"use strict";(self.webpackChunkhris_admin=self.webpackChunkhris_admin||[]).push([[533],{4533:($e,x,p)=>{p.r(x),p.d(x,{IpcrModule:()=>Pe});var c=p(6814),l=p(6223),f=p(1896),t=p(5879);let M=(()=>{var n;class r{constructor(){}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ipcr"]],decls:1,vars:0,template:function(a,e){1&a&&t._UZ(0,"router-outlet")},dependencies:[f.lC],encapsulation:2}),r})();var u=p(8272),Z=p(3661);function k(n,r){if(1&n&&(t.TgZ(0,"li",8)(1,"a"),t._uU(2),t.qZA()()),2&n){const i=t.oxw();t.Q6J("ngClass",i.isShowIpcrData?"active":""),t.xp6(2),t.hij("\xa0",i.ipcrService.storageIpcrData(),"")}}function U(n,r){1&n&&(t.TgZ(0,"div",14)(1,"div",15)(2,"button",16),t._UZ(3,"i",17),t._uU(4,"IPCR "),t.qZA()()())}function S(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"div",14),t._UZ(1,"br"),t.TgZ(2,"a",18),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.SetIsShowIpcrData())}),t.TgZ(3,"span",19),t._UZ(4,"i",20),t.qZA()()()}}let w=(()=>{var n;class r{constructor(){this.ipcrService=(0,t.f3M)(u.$),this.dpcrService=(0,t.f3M)(Z.t),this.isAddIpcr=new t.vpe,this.handleShowIpcrData=new t.vpe}SetIsShowIpcrData(){this.handleShowIpcrData.emit(!1),localStorage.removeItem("ipcrId"),localStorage.removeItem("ipcrData")}HandleIpcr(){this.ipcrService.AddIPCR({})}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-header-target"]],inputs:{isShowIpcrData:"isShowIpcrData"},outputs:{isAddIpcr:"isAddIpcr",handleShowIpcrData:"handleShowIpcrData"},decls:20,vars:5,consts:[[1,"row"],[1,"col-9"],[1,"card-header","p-3"],["aria-label","breadcrumb"],[1,"breadcrumb","breadcrumb-style1","m-0"],[1,"breadcrumb-item"],[1,"bx","bx-data"],[1,"bx","bx-carousel"],[1,"breadcrumb-item",3,"ngClass"],[1,"cursor-pointer",3,"click"],[1,"bx","bxs-right-top-arrow-circle"],["class","breadcrumb-item",3,"ngClass",4,"ngIf"],["class","col-3",4,"ngIf","ngIfElse"],["ShowIpcrData",""],[1,"col-3"],[1,"pt-2",2,"margin-right","5px"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasIpcr","aria-controls","offcanvasIpcr",1,"btn","btn-primary","float-end"],[1,"bx","bx-plus"],[1,"pointer","float-end",3,"click"],[1,"row","px-4"],[1,"bx","bx-arrow-back","cursor-pointer"]],template:function(a,e){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a"),t._UZ(7,"i",6),t._uU(8,"\xa0IPCR"),t.qZA()(),t.TgZ(9,"li",5),t._UZ(10,"i",7),t._uU(11),t.qZA(),t.TgZ(12,"li",8)(13,"a",9),t.NdJ("click",function(){return e.SetIsShowIpcrData()}),t._UZ(14,"i",10),t._uU(15,"\xa0Target"),t.qZA()(),t.YNc(16,k,3,2,"li",11),t.qZA()()()(),t.YNc(17,U,5,0,"div",12),t.YNc(18,S,5,0,"ng-template",null,13,t.W1O),t.qZA()),2&a){const o=t.MAs(19);t.xp6(11),t.hij("\xa0",e.dpcrService.divisionName," "),t.xp6(1),t.Q6J("ngClass",e.isShowIpcrData?"":"active"),t.xp6(4),t.Q6J("ngIf",e.isShowIpcrData),t.xp6(1),t.Q6J("ngIf",0==e.isShowIpcrData)("ngIfElse",o)}},dependencies:[c.mk,c.O5],encapsulation:2}),r})();var C=p(9921),I=p(6682),J=p(3519),N=p.n(J),Q=p(198);function E(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"option",16),t._uU(2),t.qZA(),t.BQk()),2&n){const i=r.$implicit,a=t.oxw(2);t.xp6(1),t.s9C("value",i),t.Q6J("selected",i===a.ipcrObj.year),t.xp6(1),t.Oqu(i)}}function O(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"div",8)(1,"label",14),t._uU(2,"Select year"),t.qZA(),t.TgZ(3,"select",15),t.NdJ("change",function(e){t.CHM(i);const o=t.oxw();return t.KtG(o.onChangeYear(e))}),t.YNc(4,E,3,3,"ng-container",11),t.qZA()()}if(2&n){const i=t.oxw();t.xp6(4),t.Q6J("ngForOf",i.listYear)}}function D(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"option",16),t._uU(2),t.qZA(),t.BQk()),2&n){const i=r.$implicit,a=t.oxw();t.xp6(1),t.s9C("value",i.period),t.Q6J("selected",a.ipcrObj.semester===i.period),t.xp6(1),t.Oqu(i.desc)}}let Y=(()=>{var n;class r{constructor(){this.submit=new t.vpe,this.currentYear=(new Date).getFullYear(),this.periods=[{period:1,desc:"1st Sem"},{period:2,desc:"2nd Sem"}],this.listYear=[]}ngOnInit(){for(let a=3;a>0;a--)this.listYear.push(this.currentYear++)}Submit(){null==this.ipcrObj.year&&(this.ipcrObj.year=(new Date).getFullYear()),null==this.ipcrObj.semester&&(this.ipcrObj.semester=this.periods[0].period),this.submit.emit("Submit")}onChangeYear(a){this.ipcrObj.year=a.target.value}onChangePeriod(a){this.ipcrObj.semester=a.target.value}onChangeYearInput(a){this.ipcrObj.semester=a}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-canvas-target-ipcr"]],inputs:{ipcrObj:"ipcrObj",isAddIpcr:"isAddIpcr"},outputs:{submit:"submit"},decls:19,vars:2,consts:[[1,"col-lg-3","col-md-6"],[1,"mt-3"],["data-bs-scroll","true","data-bs-backdrop","false","tabindex","-1","id","offcanvasIpcr","aria-labelledby","offcanvasIpcrLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],["id","offcanvasEndLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset"],[1,"offcanvas-body","my-auto","mx-0","flex-grow-0"],["class","col-md-12 mt-2",4,"ngIf"],[1,"col-md-12","mt-2"],["for","largeSelectPeriod",1,"form-label"],["id","largeSelectPeriod",1,"form-select","form-select-lg",3,"change"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","mb-2","d-grid","w-100",3,"click"],["type","button","data-bs-dismiss","offcanvas",1,"btn","btn-outline-secondary","d-grid","w-100"],["for","largeSelectYear",1,"form-label"],["id","largeSelectYear",1,"form-select","form-select-lg",3,"change"],[3,"value","selected"]],template:function(a,e){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5,"IPCR"),t.qZA(),t._UZ(6,"button",5),t.qZA(),t.TgZ(7,"div",6),t.YNc(8,O,5,1,"div",7),t.TgZ(9,"div",8)(10,"label",9),t._uU(11,"Select period"),t.qZA(),t.TgZ(12,"select",10),t.NdJ("change",function(s){return e.onChangePeriod(s)}),t.YNc(13,D,3,3,"ng-container",11),t.qZA()(),t._UZ(14,"br"),t.TgZ(15,"button",12),t.NdJ("click",function(){return e.Submit()}),t._uU(16," Save "),t.qZA(),t.TgZ(17,"button",13),t._uU(18," Close "),t.qZA()()()()()),2&a&&(t.xp6(8),t.Q6J("ngIf",e.isAddIpcr),t.xp6(5),t.Q6J("ngForOf",e.periods))},dependencies:[c.sg,c.O5,l.YN,l.Kr],encapsulation:2}),r})();function F(n,r){if(1&n&&(t.TgZ(0,"option",28),t._uU(1),t.qZA()),2&n){const i=r.$implicit,a=t.oxw();t.Q6J("selected",i===a.yearNow)("value",i),t.xp6(1),t.hij(" ",i," ")}}function R(n,r){1&n&&(t.TgZ(0,"div")(1,"span",45),t._uU(2,"Draft "),t.qZA()())}function j(n,r){1&n&&(t.TgZ(0,"div")(1,"span",30),t._uU(2,"Open"),t.qZA()())}function L(n,r){1&n&&(t.TgZ(0,"div")(1,"span",46),t._uU(2,"Final"),t.qZA()())}function B(n,r){1&n&&(t.TgZ(0,"div")(1,"span",45),t._uU(2,"Draft "),t.qZA()())}function G(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"div")(1,"a",40),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit,o=t.oxw();return t.KtG(o.SetIpcrActive(e,1))}),t._UZ(2,"i",47),t._uU(3," Open"),t.qZA()()}}function P(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"div")(1,"a",40),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit,o=t.oxw();return t.KtG(o.SetIpcrActive(e,2))}),t._UZ(2,"i",48),t._uU(3," Final"),t.qZA()()}}function $(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"div")(1,"a",40),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit,o=t.oxw();return t.KtG(o.SetIpcrActive(e,1))}),t._UZ(2,"i",47),t._uU(3," Open"),t.qZA()()}}function H(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"tr")(1,"td",29),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.SetIsShowIpcrData(o))}),t.TgZ(2,"a")(3,"strong"),t._uU(4),t.qZA()()(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"span",30),t._uU(9),t.qZA()(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"td")(17,"div",31),t.YNc(18,R,3,0,"div",32),t.YNc(19,j,3,0,"div",32),t.YNc(20,L,3,0,"div",32),t.YNc(21,B,3,0,"div",33),t.qZA()(),t.TgZ(22,"td")(23,"div",34)(24,"button",35),t._UZ(25,"i",36),t.qZA(),t.TgZ(26,"div",37)(27,"div",31),t.YNc(28,G,4,0,"div",32),t.YNc(29,P,4,0,"div",32),t.YNc(30,$,4,0,"div",33),t.qZA(),t.TgZ(31,"a",38),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.ipcrService.GetIpcrTargetReport(o.ipcrId))}),t._UZ(32,"i",39),t._uU(33," Print IPCR"),t.qZA(),t.TgZ(34,"a",40),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.navigateToSignatory(o.ipcrId))}),t._UZ(35,"i",41),t._uU(36," Signatory"),t.qZA(),t.TgZ(37,"a",42),t.NdJ("click",function(){const e=t.CHM(i),o=e.index,s=e.$implicit,d=t.oxw();return d.targetSubmit.index=o,d.targetSubmit.ipcrId=s.ipcrId,t.KtG(d.targetSubmit.currentTargetSubmitted=s.targetSubmitAt)}),t._UZ(38,"i",43),t._uU(39," Submit Target"),t.qZA(),t.TgZ(40,"a",40),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.DeleteIpcr(o.ipcrId))}),t._UZ(41,"i",44),t._uU(42," Delete"),t.qZA()()()()()}if(2&n){const i=r.$implicit,a=t.oxw();t.xp6(4),t.Oqu(i.details),t.xp6(2),t.Oqu(a.Semester(i.semester)),t.xp6(3),t.Oqu(i.year),t.xp6(2),t.hij(" ",t.xi3(12,12,i.transDT,"MMM. dd, yyyy")," "),t.xp6(3),t.hij(" ",t.xi3(15,15,i.targetSubmitAt,"MMM. dd, yyyy")," "),t.xp6(3),t.Q6J("ngSwitch",i.active),t.xp6(1),t.Q6J("ngSwitchCase","0"),t.xp6(1),t.Q6J("ngSwitchCase","1"),t.xp6(1),t.Q6J("ngSwitchCase","2"),t.xp6(7),t.Q6J("ngSwitch",i.active),t.xp6(1),t.Q6J("ngSwitchCase","0"),t.xp6(1),t.Q6J("ngSwitchCase","1")}}function K(n,r){1&n&&(t.TgZ(0,"div"),t._UZ(1,"img",49),t.TgZ(2,"span",50)(3,"div")(4,"label",51)(5,"strong"),t._uU(6,"No Data Found!"),t.qZA()()()()())}function V(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"app-loading-square-jelly-box",52),t.BQk()),2&n){const i=t.oxw();t.xp6(1),t.Q6J("loading",i.ipcrService.loadReportIpcrTgt())}}function W(n,r){if(1&n&&t._UZ(0,"iframe",53),2&n){const i=t.oxw();t.Q6J("src",i.ipcrService.ipcrTargetReportUrl,t.uOi)}}let z=(()=>{var n;class r{constructor(a){this.router=a,this.ipcrService=(0,t.f3M)(u.$),this.dpcrService=(0,t.f3M)(Z.t),this.utilService=(0,t.f3M)(C.n),this.signatoryService=(0,t.f3M)(I.U),this.get_ipcrDetails=this.ipcrService.ipcrDetails(),this.prevYear=(new Date).getFullYear()-1,this.yearNow=(new Date).getFullYear(),this.listYear=[],this.ipcrObj={},this.isAddIpcr=!0,this.employee_list=[],this.search_employee_list=[],this.search_employee_list_approved_by=[],this.signatory={},this.searchReviewedBy="",this.divisionId=localStorage.getItem("divisionId"),this.userId=localStorage.getItem("userId"),this.ipcr=this.ipcrService.ipcr(),this.isShowReviewedBy=!1,this.isShowApprovedBy=!1,this.targetSubmit={},this.isAddDpcr=new t.vpe,this.setDpcr=new t.vpe,this.formatDate=e=>{const o=new Date(e);if(isNaN(o.getTime()))throw new Error("Invalid date");return o.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"}).replace(",","")}}ngOnInit(){for(let a=3;a>0;a--)this.listYear.push(this.prevYear++);this.ipcrService.GetIPCRs(),this.GetEmployeeList()}GetEmployeeList(){this.utilService.get_employee_list().subscribe(a=>{this.employee_list=a.filter(e=>e.salaryGrade>=18&&e.salaryGrade<=26),console.log(this.employee_list)},a=>{alert("error")})}SubmitTarget(){if(void 0!==this.targetSubmit.targetSubmitAt)if(null!==this.targetSubmit.currentTargetSubmitted){let a=this.formatDate(this.targetSubmit.currentTargetSubmitted),e=this.formatDate(this.targetSubmit.targetSubmitAt),o="Your target was already submitted on '"+a+"'. Continuing will overwrite it with '"+e+"'";a===e&&(o="You selected '"+a+"', the same date that was already submitted. Please choose a different date."),N().fire({title:"Are you sure?",text:o,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, submit it!",showClass:{popup:"z-5"}}).then(s=>{s.isConfirmed&&(this.ipcr.data[this.targetSubmit.index].targetSubmitAt=this.targetSubmit.targetSubmitAt,this.ipcrService.PutSubmitTarget(this.targetSubmit))})}else this.ipcrService.PutSubmitTarget(this.targetSubmit)}navigateToSignatory(a){this.router.navigate(["/spms/ipcr/signatory",a])}SetDpcr(a){this.setDpcr.emit(a)}AddIpcr(){this.ipcrObj.year=this.ipcrObj.year.toString(),this.ipcrService.AddIPCR(this.ipcrObj)}EditIpcr(){}DeleteIpcr(a){this.ipcrService.DeleteIpcr(a)}HandleDpcr(){this.isAddDpcr.emit(!1)}SetIpcrActive(a,e){a.active=e,this.ipcrService.SetDpcrActive(a)}SetIsShowIpcrData(a){this.ipcrService.storageIpcrId.set(a.ipcrId),localStorage.setItem("ipcrId",a.ipcrId),this.ipcrService.storageIpcrData.set(a.details),localStorage.setItem("ipcrData",a.details),this.ipcrService.storageIsShow.set(1),localStorage.setItem("isShow_ipcr","1"),this.ipcrService.storageIpcrDetailsActual.set(a.details),localStorage.setItem("ipcrDetailsActual",a.details)}Semester(a){let e="";switch(a){case 1:e="1st";break;case 2:e="2nd"}return e}onChangeYear(a){this.ipcrService.year.set(a.target.value),this.ipcrService.GetIPCRs()}}return(n=r).\u0275fac=function(a){return new(a||n)(t.Y36(f.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-table-ipcr"]],outputs:{isAddDpcr:"isAddDpcr",setDpcr:"setDpcr"},decls:55,vars:9,consts:[[1,"card-body"],["aria-label","Default select example",1,"form-select",3,"change"],[3,"selected","value",4,"ngFor","ngForOf"],[1,"table-responsive","text-nowrap"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[4,"ngIf"],["id","modalIpcrTargetReport","tabindex","-1","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-scrollable","modal-fullscreen",2,"padding","50px 100px 50px 100px"],[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","row"],[4,"ngIf","ngIfElse"],["ShowReport",""],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],["id","submitTarget","tabindex","-1","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-sm"],[1,"modal-content",2,"z-index","1"],["id","exampleModalLabel2",1,"modal-title"],[1,"modal-body"],[1,"row"],[1,"col","mb-3"],["type","date","id","html5-datetime-local-input","min","2023-11-1T08:00 | date:'yyyy-MM-ddTHH:mm'",1,"form-control",3,"ngModel","ngModelChange"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],[3,"ipcrObj","isAddIpcr","submit"],[3,"selected","value"],[1,"cursor-pointer",3,"click"],[1,"badge","bg-label-primary","me-1"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"dropdown","position-static"],["type","button","data-bs-toggle","dropdown",1,"btn","p-0","dropdown-toggle","hide-arrow"],[1,"bx","bx-dots-vertical-rounded"],[1,"dropdown-menu"],["data-bs-target","#modalIpcrTargetReport","data-bs-toggle","modal",1,"dropdown-item",3,"click"],[1,"bx","bx-printer","me-1"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"bx","bx-edit","me-1"],["data-bs-target","#submitTarget","data-bs-toggle","modal",1,"dropdown-item","cursor-pointer",3,"click"],[1,"bx","bx-send"],[1,"bx","bx-trash","me-1"],[1,"badge","bg-label-danger","me-1"],[1,"badge","bg-label-success","me-1"],[1,"bx","bx-paperclip","me-1"],[1,"bx","bxs-flag-alt","me-1"],["src","assets/img/document.png","alt","","width","200","height","200",2,"display","block","margin","0 auto"],[2,"display","flex","flex-direction","column","justify-content","space-between","align-items","center","height","100%"],[2,"margin-bottom","10px"],[3,"loading"],["width","100%","height","100%","frameborder","0",3,"src"]],template:function(a,e){if(1&a&&(t.TgZ(0,"div",0)(1,"div")(2,"select",1),t.NdJ("change",function(s){return e.onChangeYear(s)}),t.YNc(3,F,2,3,"option",2),t.qZA()(),t._UZ(4,"br"),t.TgZ(5,"div",3)(6,"table",4)(7,"thead")(8,"tr")(9,"th"),t._uU(10,"Details"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Sem"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Year"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Date Created"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Date Submitted"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Status"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Action"),t.qZA()()(),t.TgZ(23,"tbody"),t.YNc(24,H,43,18,"tr",5),t.qZA()()(),t.YNc(25,K,7,0,"div",6),t.qZA(),t.TgZ(26,"div",7)(27,"div",8)(28,"div",9)(29,"div",10),t._UZ(30,"button",11),t.qZA(),t.TgZ(31,"div",12),t.YNc(32,V,2,1,"ng-container",13),t.YNc(33,W,1,1,"ng-template",null,14,t.W1O),t.qZA(),t.TgZ(35,"div",15)(36,"button",16),t._uU(37," Close "),t.qZA()()()()(),t.TgZ(38,"div",17)(39,"div",18)(40,"div",19)(41,"div",10)(42,"h3",20),t._uU(43,"SELECT DATE"),t.qZA(),t._UZ(44,"button",11),t.qZA(),t.TgZ(45,"div",21)(46,"div",22)(47,"div",23)(48,"input",24),t.NdJ("ngModelChange",function(s){return e.targetSubmit.targetSubmitAt=s}),t.qZA()()()(),t.TgZ(49,"div",15)(50,"button",25),t._uU(51," Close "),t.qZA(),t.TgZ(52,"button",26),t.NdJ("click",function(){return e.SubmitTarget()}),t._uU(53,"Submit Target"),t.qZA()()()()(),t.TgZ(54,"app-canvas-target-ipcr",27),t.NdJ("submit",function(){return e.isAddIpcr?e.AddIpcr():e.EditIpcr()}),t.qZA()),2&a){const o=t.MAs(34);t.xp6(3),t.Q6J("ngForOf",e.listYear),t.xp6(21),t.Q6J("ngForOf",e.ipcr.data),t.xp6(1),t.Q6J("ngIf",e.ipcrService.ipcr().data.length<=0),t.xp6(7),t.Q6J("ngIf",e.ipcrService.loadReportIpcrTgt())("ngIfElse",o),t.xp6(16),t.Q6J("ngModel",e.targetSubmit.targetSubmitAt),t.xp6(4),t.Q6J("disabled",void 0===e.targetSubmit.targetSubmitAt),t.xp6(2),t.Q6J("ipcrObj",e.ipcrObj)("isAddIpcr",e.isAddIpcr)}},dependencies:[c.sg,c.O5,c.RF,c.n9,c.ED,l.YN,l.Kr,l.Fj,l.JJ,l.On,Q.u,Y,c.uU],encapsulation:2}),r})();var X=p(7854),y=p(4423),g=p(6825);const tt=["closebuttonEdit"];function et(n,r){if(1&n&&(t.TgZ(0,"span",26),t._uU(1),t.qZA()),2&n){const i=t.oxw();t.xp6(1),t.Oqu(i.quantityLabeler(i.mfo.qtyUnit))}}function nt(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"div",10)(1,"label",11),t._uU(2,"DPCR Quantity Remaining"),t.qZA(),t.TgZ(3,"input",27),t.NdJ("ngModelChange",function(e){t.CHM(i);const o=t.oxw();return t.KtG(o.qtyRemaining=e)}),t.qZA()()}if(2&n){const i=t.oxw();t.xp6(3),t.Q6J("value",i.mfo.totalIpcrQuantity-i.ipcrService.ipcr_rem())("ngModel",i.qtyRemaining)}}function it(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"div",10)(1,"label",11),t._uU(2,"DPCR Total Quantity"),t.qZA(),t._uU(3,"\xa0 "),t.TgZ(4,"span",26),t._uU(5),t.qZA(),t.TgZ(6,"input",28),t.NdJ("ngModelChange",function(e){t.CHM(i);const o=t.oxw();return t.KtG(o.mfo.totalIpcrQuantity=e)}),t.qZA()()}if(2&n){const i=t.oxw();t.xp6(5),t.Oqu(i.quantityLabeler(i.mfo.qtyUnit)),t.xp6(1),t.Q6J("ngModel",i.mfo.totalIpcrQuantity)}}function at(n,r){1&n&&(t.TgZ(0,"div")(1,"div",31),t._UZ(2,"i",32),t._uU(3,"\xa0Quantity must not exceed to REMAINING or REMAINING already depleted below zero! "),t.qZA()())}function ot(n,r){if(1&n&&(t.TgZ(0,"div",29),t._UZ(1,"br"),t.YNc(2,at,4,0,"div",30),t.qZA()),2&n){const i=t.oxw();t.xp6(2),t.Q6J("ngIf",i.mfo.promptEdit)}}let rt=(()=>{var n;class r{constructor(){this.ipcrService=(0,t.f3M)(u.$)}ngOnInit(){}EditIPCRDetails(){this.mfo.isIpcrMfo&&(this.ipcrService.PutIPCRData(this.mfo),this.closebuttonEdit.nativeElement.click()),this.mfo.promptEdit||(this.ipcrService.PutIPCRData(this.mfo),this.closebuttonEdit.nativeElement.click())}calculateRatingEdit(){0==this.mfo.qtyUnit?(this.qtyRemaining=this.mfo.totalIpcrQuantity-(this.ipcrService.ipcr_rem()-this.mfo.returnQty+this.mfo.qty),this.mfo.qty5=Math.floor(.3*this.mfo.qty+this.mfo.qty),this.mfo.qty4=Math.floor(.15*this.mfo.qty+this.mfo.qty),this.mfo.qty3=Math.floor(this.mfo.qty),this.mfo.qty2=Math.floor(this.mfo.qty/2+1),this.mfo.qty1=Math.floor(this.mfo.qty/2),this.mfo.qty3>=4&&this.mfo.qty3<=6?(this.mfo.qty4+=1,this.mfo.qty5+=1):3==this.mfo.qty3?(this.mfo.qty4+=1,this.mfo.qty5+=2):2==this.mfo.qty3?(this.mfo.qty4+=1,this.mfo.qty5+=2,this.mfo.qty2-=1,this.mfo.qty1-=1):1==this.mfo.qty3?(this.mfo.qty5=1,this.mfo.qty4=null,this.mfo.qty3=null,this.mfo.qty2=null,this.mfo.qty1=null):this.mfo.qty<=0&&(this.mfo.qty5=null,this.mfo.qty4=null,this.mfo.qty3=null,this.mfo.qty2=null,this.mfo.qty1=null),this.mfo.promptEdit=this.qtyRemaining<0||this.mfo.qty<0):this.mfo.promptEdit=this.mfo.qty>this.mfo.totalIpcrQuantity||this.mfo.qty<0}quantityLabeler(a){let e;switch(a){case 0:e="Numeric";break;case 1:e="Percentage"}return e}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-modal-edit-mfo"]],viewQuery:function(a,e){if(1&a&&t.Gf(tt,5),2&a){let o;t.iGM(o=t.CRH())&&(e.closebuttonEdit=o.first)}},inputs:{mfo:"mfo"},decls:89,vars:26,consts:[["id","modalEdit","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"z-index","5000"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","modalCenterTitle",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["closebuttonEdit",""],[1,"modal-body"],[1,"mb-3"],[1,"row"],[1,"col-4"],["for","basic-default-fullname",1,"form-label"],["class","badge rounded-pill bg-success",4,"ngIf"],["type","number","id","basic-default-fullname","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],["class","col-4",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"card"],[1,"table-responsive","text-nowrap"],[1,"table"],[1,"table-light"],[1,"table-border-bottom-0"],[1,"form-floating"],["type","number","id","floatingInput","placeholder","","aria-describedby","floatingInputHelp",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"badge","rounded-pill","bg-success"],["disabled","","type","number","id","basic-default-fullname","placeholder","",1,"form-control",3,"value","ngModel","ngModelChange"],["disabled","","type","number","id","basic-default-fullname","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12"],[4,"ngIf"],["role","alert",1,"alert","alert-danger"],[1,"bx","bxs-x-square"]],template:function(a,e){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5),t.qZA(),t._UZ(6,"button",5,6),t.qZA(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),t._uU(13,"Quantity"),t.qZA(),t.YNc(14,et,2,1,"span",12),t.TgZ(15,"input",13),t.NdJ("ngModelChange",function(s){return e.mfo.qty=s})("ngModelChange",function(){return e.calculateRatingEdit()}),t.qZA()(),t.YNc(16,nt,4,2,"div",14),t.YNc(17,it,7,2,"div",14),t.YNc(18,ot,3,1,"div",15),t.qZA(),t._UZ(19,"br"),t.TgZ(20,"div",16)(21,"div",17)(22,"table",18)(23,"thead",19)(24,"tr")(25,"th"),t._uU(26,"RATING"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"QUANTITY"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"QUALITY"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"TIMELINESS"),t.qZA()()(),t.TgZ(33,"tbody",20)(34,"tr")(35,"td"),t._uU(36),t.qZA(),t.TgZ(37,"td")(38,"div",21)(39,"input",22),t.NdJ("ngModelChange",function(s){return e.mfo.qty5=s}),t.qZA()()(),t.TgZ(40,"td"),t._uU(41),t.qZA(),t.TgZ(42,"td"),t._uU(43),t.qZA()(),t.TgZ(44,"tr")(45,"td"),t._uU(46),t.qZA(),t.TgZ(47,"td")(48,"div",21)(49,"input",22),t.NdJ("ngModelChange",function(s){return e.mfo.qty4=s}),t.qZA()()(),t.TgZ(50,"td"),t._uU(51),t.qZA(),t.TgZ(52,"td"),t._uU(53),t.qZA()(),t.TgZ(54,"tr")(55,"td"),t._uU(56),t.qZA(),t.TgZ(57,"td")(58,"div",21)(59,"input",22),t.NdJ("ngModelChange",function(s){return e.mfo.qty3=s}),t.qZA()()(),t.TgZ(60,"td"),t._uU(61),t.qZA(),t.TgZ(62,"td"),t._uU(63),t.qZA()(),t.TgZ(64,"tr")(65,"td"),t._uU(66),t.qZA(),t.TgZ(67,"td")(68,"div",21)(69,"input",22),t.NdJ("ngModelChange",function(s){return e.mfo.qty2=s}),t.qZA()()(),t.TgZ(70,"td"),t._uU(71),t.qZA(),t.TgZ(72,"td"),t._uU(73),t.qZA()(),t.TgZ(74,"tr")(75,"td"),t._uU(76),t.qZA(),t.TgZ(77,"td")(78,"div",21)(79,"input",22),t.NdJ("ngModelChange",function(s){return e.mfo.qty1=s}),t.qZA()()(),t.TgZ(80,"td"),t._uU(81),t.qZA(),t.TgZ(82,"td"),t._uU(83),t.qZA()()()()()()()(),t.TgZ(84,"div",23)(85,"button",24),t._uU(86," Close "),t.qZA(),t.TgZ(87,"button",25),t.NdJ("click",function(){return e.EditIPCRDetails()}),t._uU(88," Save Details "),t.qZA()()()()()),2&a&&(t.xp6(5),t.hij(" ",e.mfo.indicator," "),t.xp6(9),t.Q6J("ngIf",e.mfo.isIpcrMfo),t.xp6(1),t.Q6J("ngModel",e.mfo.qty),t.xp6(1),t.Q6J("ngIf",0==e.mfo.qtyUnit&&!e.mfo.isIpcrMfo),t.xp6(1),t.Q6J("ngIf",!e.mfo.isIpcrMfo),t.xp6(1),t.Q6J("ngIf",!e.mfo.isIpcrMfo),t.xp6(18),t.Oqu("5"),t.xp6(3),t.Q6J("ngModel",e.mfo.qty5),t.xp6(2),t.hij(" ",e.mfo.qlty5," "),t.xp6(2),t.hij(" ",e.mfo.timely5," "),t.xp6(3),t.Oqu("4"),t.xp6(3),t.Q6J("ngModel",e.mfo.qty4),t.xp6(2),t.hij(" ",e.mfo.qlty4," "),t.xp6(2),t.hij(" ",e.mfo.timely4," "),t.xp6(3),t.Oqu("3"),t.xp6(3),t.Q6J("ngModel",e.mfo.qty3),t.xp6(2),t.hij(" ",e.mfo.qlty3," "),t.xp6(2),t.hij(" ",e.mfo.timely3," "),t.xp6(3),t.Oqu("2"),t.xp6(3),t.Q6J("ngModel",e.mfo.qty2),t.xp6(2),t.hij(" ",e.mfo.qlty2," "),t.xp6(2),t.hij(" ",e.mfo.timely2," "),t.xp6(3),t.Oqu("1"),t.xp6(3),t.Q6J("ngModel",e.mfo.qty1),t.xp6(2),t.hij(" ",e.mfo.qlty1," "),t.xp6(2),t.hij(" ",e.mfo.timely1," "))},dependencies:[c.O5,l.Fj,l.wV,l.JJ,l.On],encapsulation:2}),r})();const st=["closebuttonEditST"];function lt(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"div",10)(1,"label",11),t._uU(2,"DPCR Quantity Subtask Remaining"),t.qZA(),t.TgZ(3,"input",28),t.NdJ("ngModelChange",function(e){t.CHM(i);const o=t.oxw();return t.KtG(o.subtask.qtyRemainingST=e)}),t.qZA()()}if(2&n){const i=t.oxw();t.xp6(3),t.Q6J("value",i.subtask.totalIpcrQuantityST-i.ipcrService.ipcrST_rem())("ngModel",i.subtask.qtyRemainingST)}}function ct(n,r){1&n&&(t.TgZ(0,"div")(1,"div",29),t._UZ(2,"i",30),t._uU(3,"\xa0Quantity must not exceed to REMAINING or REMAINING already depleted below zero! "),t.qZA()())}let dt=(()=>{var n;class r{constructor(){this.ipcrService=(0,t.f3M)(u.$),this.promptEditST=!1}ngOnInit(){}EditIPCRSubDetails(){this.subtask.promptEditST||(this.ipcrService.PutIPCRSubData(this.subtask),this.closebuttonEditST.nativeElement.click())}calculateRatingSTEdit(){0==this.subtask.qtyUnit?(this.subtask.qtyRemainingST=this.subtask.totalIpcrQuantityST-(this.ipcrService.ipcrST_rem()-this.subtask.returnQtyST+this.subtask.qty),this.subtask.qty5=Math.floor(.3*this.subtask.qty+this.subtask.qty),this.subtask.qty4=Math.floor(.15*this.subtask.qty+this.subtask.qty),this.subtask.qty3=Math.floor(this.subtask.qty),this.subtask.qty2=Math.floor(this.subtask.qty/2+1),this.subtask.qty1=Math.floor(this.subtask.qty/2),this.subtask.qty3>=4&&this.subtask.qty3<=6?(this.subtask.qty4+=1,this.subtask.qty5+=1):3==this.subtask.qty3?(this.subtask.qty4+=1,this.subtask.qty5+=2):2==this.subtask.qty3?(this.subtask.qty4+=1,this.subtask.qty5+=2,this.subtask.qty2-=1,this.subtask.qty1-=1):1==this.subtask.qty3?(this.subtask.qty5=1,this.subtask.qty4=null,this.subtask.qty3=null,this.subtask.qty2=null,this.subtask.qty1=null):this.subtask.qty<=0&&(this.subtask.qty5=null,this.subtask.qty4=null,this.subtask.qty3=null,this.subtask.qty2=null,this.subtask.qty1=null),this.subtask.promptEditST=this.subtask.qtyRemainingST<0||this.subtask.qty<0):this.subtask.promptEditST=this.subtask.qty>this.subtask.totalIpcrQuantityST||this.subtask.qty<0}quantityLabeler(a){let e;switch(a){case 0:e="Numeric";break;case 1:e="Percentage"}return e}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-modal-edit-subtask"]],viewQuery:function(a,e){if(1&a&&t.Gf(st,5),2&a){let o;t.iGM(o=t.CRH())&&(e.closebuttonEditST=o.first)}},inputs:{subtask:"subtask"},decls:96,vars:26,consts:[["id","modalEditSubtask","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"z-index","5000"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","modalCenterTitle",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["closebuttonEditST",""],[1,"modal-body"],[1,"mb-3"],[1,"row"],[1,"col-4"],["for","basic-default-fullname",1,"form-label"],["type","number","id","basic-default-fullname","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],["class","col-4",4,"ngIf"],[1,"badge","rounded-pill","bg-success"],["disabled","","type","number","id","basic-default-fullname","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12"],[4,"ngIf"],[1,"card"],[1,"table-responsive","text-nowrap"],[1,"table"],[1,"table-light"],[1,"table-border-bottom-0"],[1,"form-floating"],["type","number","id","floatingInput","placeholder","","aria-describedby","floatingInputHelp",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary"],["type","button",1,"btn","btn-primary",3,"click"],["disabled","","type","number","id","basic-default-fullname","placeholder","",1,"form-control",3,"value","ngModel","ngModelChange"],["role","alert",1,"alert","alert-danger"],[1,"bx","bxs-x-square"]],template:function(a,e){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5),t.qZA(),t._UZ(6,"button",5,6),t.qZA(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),t._uU(13,"Quantity Subtask"),t.qZA(),t.TgZ(14,"input",12),t.NdJ("ngModelChange",function(s){return e.subtask.qty=s})("ngModelChange",function(){return e.calculateRatingSTEdit()}),t.qZA()(),t.YNc(15,lt,4,2,"div",13),t.TgZ(16,"div",10)(17,"label",11),t._uU(18,"DPCR Total Subtask"),t.qZA(),t._uU(19,"\xa0 "),t.TgZ(20,"span",14),t._uU(21),t.qZA(),t.TgZ(22,"input",15),t.NdJ("ngModelChange",function(s){return e.subtask.totalIpcrQuantityST=s}),t.qZA()(),t.TgZ(23,"div",16),t._UZ(24,"br"),t.YNc(25,ct,4,0,"div",17),t.qZA()(),t._UZ(26,"br"),t.TgZ(27,"div",18)(28,"div",19)(29,"table",20)(30,"thead",21)(31,"tr")(32,"th"),t._uU(33,"RATING"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"QUANTITY"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"QUALITY"),t.qZA(),t.TgZ(38,"th"),t._uU(39,"TIMELINESS"),t.qZA()()(),t.TgZ(40,"tbody",22)(41,"tr")(42,"td"),t._uU(43),t.qZA(),t.TgZ(44,"td")(45,"div",23)(46,"input",24),t.NdJ("ngModelChange",function(s){return e.subtask.qty5=s}),t.qZA()()(),t.TgZ(47,"td"),t._uU(48),t.qZA(),t.TgZ(49,"td"),t._uU(50),t.qZA()(),t.TgZ(51,"tr")(52,"td"),t._uU(53),t.qZA(),t.TgZ(54,"td")(55,"div",23)(56,"input",24),t.NdJ("ngModelChange",function(s){return e.subtask.qty4=s}),t.qZA()()(),t.TgZ(57,"td"),t._uU(58),t.qZA(),t.TgZ(59,"td"),t._uU(60),t.qZA()(),t.TgZ(61,"tr")(62,"td"),t._uU(63),t.qZA(),t.TgZ(64,"td")(65,"div",23)(66,"input",24),t.NdJ("ngModelChange",function(s){return e.subtask.qty3=s}),t.qZA()()(),t.TgZ(67,"td"),t._uU(68),t.qZA(),t.TgZ(69,"td"),t._uU(70),t.qZA()(),t.TgZ(71,"tr")(72,"td"),t._uU(73),t.qZA(),t.TgZ(74,"td")(75,"div",23)(76,"input",24),t.NdJ("ngModelChange",function(s){return e.subtask.qty2=s}),t.qZA()()(),t.TgZ(77,"td"),t._uU(78),t.qZA(),t.TgZ(79,"td"),t._uU(80),t.qZA()(),t.TgZ(81,"tr")(82,"td"),t._uU(83),t.qZA(),t.TgZ(84,"td")(85,"div",23)(86,"input",24),t.NdJ("ngModelChange",function(s){return e.subtask.qty1=s}),t.qZA()()(),t.TgZ(87,"td"),t._uU(88),t.qZA(),t.TgZ(89,"td"),t._uU(90),t.qZA()()()()()()()(),t.TgZ(91,"div",25)(92,"button",26),t._uU(93," Close "),t.qZA(),t.TgZ(94,"button",27),t.NdJ("click",function(){return e.EditIPCRSubDetails()}),t._uU(95," Save Details "),t.qZA()()()()()),2&a&&(t.xp6(5),t.hij(" ",e.subtask.stIndicator," "),t.xp6(9),t.Q6J("ngModel",e.subtask.qty),t.xp6(1),t.Q6J("ngIf",0==e.subtask.qtyUnit),t.xp6(6),t.Oqu(e.quantityLabeler(e.subtask.qtyUnit)),t.xp6(1),t.Q6J("ngModel",e.subtask.totalIpcrQuantityST),t.xp6(3),t.Q6J("ngIf",e.subtask.promptEditST),t.xp6(18),t.Oqu("5"),t.xp6(3),t.Q6J("ngModel",e.subtask.qty5),t.xp6(2),t.hij(" ",e.subtask.qlty5," "),t.xp6(2),t.hij(" ",e.subtask.timely5," "),t.xp6(3),t.Oqu("4"),t.xp6(3),t.Q6J("ngModel",e.subtask.qty4),t.xp6(2),t.hij(" ",e.subtask.qlty4," "),t.xp6(2),t.hij(" ",e.subtask.timely4," "),t.xp6(3),t.Oqu("3"),t.xp6(3),t.Q6J("ngModel",e.subtask.qty3),t.xp6(2),t.hij(" ",e.subtask.qlty3," "),t.xp6(2),t.hij(" ",e.subtask.timely3," "),t.xp6(3),t.Oqu("2"),t.xp6(3),t.Q6J("ngModel",e.subtask.qty2),t.xp6(2),t.hij(" ",e.subtask.qlty2," "),t.xp6(2),t.hij(" ",e.subtask.timely2," "),t.xp6(3),t.Oqu("1"),t.xp6(3),t.Q6J("ngModel",e.subtask.qty1),t.xp6(2),t.hij(" ",e.subtask.qlty1," "),t.xp6(2),t.hij(" ",e.subtask.timely1," "))},dependencies:[c.O5,l.Fj,l.wV,l.JJ,l.On],encapsulation:2}),r})();var q=p(2268);const b=function(){return{"margin-top":"10px"}},pt=function(){return{"margin-top":"30px"}};function _t(n,r){1&n&&(t.TgZ(0,"div"),t._UZ(1,"br"),t.TgZ(2,"div",1)(3,"div",2),t._UZ(4,"div",3),t.TgZ(5,"div",4),t._UZ(6,"ngx-skeleton-loader",5),t.qZA(),t._UZ(7,"div",6),t.TgZ(8,"div",7),t._UZ(9,"ngx-skeleton-loader",5),t.qZA(),t.TgZ(10,"div",8),t._UZ(11,"ngx-skeleton-loader",5),t.qZA(),t.TgZ(12,"div",2)(13,"div",9),t._UZ(14,"ngx-skeleton-loader",5),t.qZA(),t.TgZ(15,"div",10),t._UZ(16,"ngx-skeleton-loader",11),t.qZA(),t.TgZ(17,"div",10),t._UZ(18,"ngx-skeleton-loader",11),t.qZA()()()()()),2&n&&(t.xp6(6),t.Q6J("theme",t.DdM(6,b)),t.xp6(3),t.Q6J("theme",t.DdM(7,b)),t.xp6(2),t.Q6J("theme",t.DdM(8,pt)),t.xp6(3),t.Q6J("theme",t.DdM(9,b)),t.xp6(2),t.Q6J("theme",t.DdM(10,b)),t.xp6(2),t.Q6J("theme",t.DdM(11,b)))}let ut=(()=>{var n;class r{constructor(){this.repeatCount=new Array(5)}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-skeleton-loading"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"card","p-4"],[1,"row"],[1,"col-12",2,"height","10px"],[1,"col-4"],["count","1","animation","pulse","appearance","line",3,"theme"],[1,"col-6"],[1,"col-2"],[1,"col-12"],[1,"col-10"],[1,"col-1"],["count","1","animation","pulse","appearance","circle",3,"theme"]],template:function(a,e){1&a&&t.YNc(0,_t,19,12,"div",0),2&a&&t.Q6J("ngForOf",e.repeatCount)},dependencies:[c.sg,q.xr],encapsulation:2}),r})();function gt(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(2);return t.KtG(e.handleExpandCard())}),t._UZ(1,"i",10),t._uU(2," MAJOR FINAL OUTPUT "),t.qZA()}}function mt(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"li")(1,"a",26),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(2).$implicit;return t.oxw(2).PutMFOFromIpcrCategory(e.si[0].ipcrId,e.mfoId,1),t.KtG(e.categoryId=1)}),t._uU(2,"STRATEGIC"),t.qZA()()}}function ft(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"li")(1,"a",26),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(2).$implicit;return t.oxw(2).PutMFOFromIpcrCategory(e.si[0].ipcrId,e.mfoId,2),t.KtG(e.categoryId=2)}),t._uU(2,"CORE "),t.qZA()()}}function bt(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"li")(1,"a",26),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(2).$implicit;return t.oxw(2).PutMFOFromIpcrCategory(e.si[0].ipcrId,e.mfoId,3),t.KtG(e.categoryId=3)}),t._uU(2,"SUPPORT "),t.qZA()()}}function ht(n,r){if(1&n&&(t.TgZ(0,"ul",24),t.YNc(1,mt,3,0,"li",25),t.YNc(2,ft,3,0,"li",25),t.YNc(3,bt,3,0,"li",25),t.qZA()),2&n){const i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",1!==i.categoryId),t.xp6(1),t.Q6J("ngIf",2!==i.categoryId),t.xp6(1),t.Q6J("ngIf",3!==i.categoryId)}}function Tt(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"div",29)(1,"div",30)(2,"h2",31)(3,"button",32),t._UZ(4,"i",33),t._uU(5," \xa0 "),t.TgZ(6,"strong",34)(7,"u"),t._uU(8),t.qZA()(),t._uU(9),t.qZA(),t.TgZ(10,"div",16)(11,"button",17),t._UZ(12,"i",18),t.qZA(),t.TgZ(13,"div",19)(14,"a",35),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit,o=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.EditIPCRDetails(o,e))}),t._UZ(15,"i",36),t._uU(16," Edit"),t.qZA(),t.TgZ(17,"a",20),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit,o=t.oxw(3);return t.KtG(o.DeleteIPCRDetails(e.ipcrDataId))}),t._UZ(18,"i",21),t._uU(19," Delete"),t.qZA()()()(),t.TgZ(20,"div",37)(21,"div",38)(22,"div",39)(23,"table",40)(24,"thead")(25,"tr")(26,"th"),t._uU(27,"RATING"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"QUANTITY"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"QUALITY"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"TIMELINESS"),t.qZA()()(),t.TgZ(34,"tbody")(35,"tr")(36,"td"),t._uU(37),t.qZA(),t.TgZ(38,"td"),t._uU(39),t.qZA(),t.TgZ(40,"td"),t._uU(41),t.qZA(),t.TgZ(42,"td"),t._uU(43),t.qZA()(),t.TgZ(44,"tr")(45,"td"),t._uU(46),t.qZA(),t.TgZ(47,"td"),t._uU(48),t.qZA(),t.TgZ(49,"td"),t._uU(50),t.qZA(),t.TgZ(51,"td"),t._uU(52),t.qZA()(),t.TgZ(53,"tr")(54,"td"),t._uU(55),t.qZA(),t.TgZ(56,"td"),t._uU(57),t.qZA(),t.TgZ(58,"td"),t._uU(59),t.qZA(),t.TgZ(60,"td"),t._uU(61),t.qZA()(),t.TgZ(62,"tr")(63,"td"),t._uU(64),t.qZA(),t.TgZ(65,"td"),t._uU(66),t.qZA(),t.TgZ(67,"td"),t._uU(68),t.qZA(),t.TgZ(69,"td"),t._uU(70),t.qZA()(),t.TgZ(71,"tr")(72,"td"),t._uU(73),t.qZA(),t.TgZ(74,"td"),t._uU(75),t.qZA(),t.TgZ(76,"td"),t._uU(77),t.qZA(),t.TgZ(78,"td"),t._uU(79),t.qZA()()()()()()()()()}if(2&n){const i=t.oxw().$implicit,a=t.oxw().index;t.xp6(2),t.MGl("id","heading",a,""),t.xp6(1),t.uIk("data-bs-target","#accordion"+a)("aria-controls","accordion"+a),t.xp6(5),t.AsE(" ",i.qty,"",i.qtyUnit?"%":""," "),t.xp6(1),t.hij(" \xa0 ",i.indicator," "),t.xp6(11),t.MGl("id","accordion",a,""),t.xp6(17),t.Oqu("5"),t.xp6(2),t.Oqu(i.qty5),t.xp6(2),t.Oqu(i.qlty5),t.xp6(2),t.Oqu(i.timely5),t.xp6(3),t.Oqu("4"),t.xp6(2),t.Oqu(i.qty4),t.xp6(2),t.Oqu(i.qlty4),t.xp6(2),t.Oqu(i.timely4),t.xp6(3),t.Oqu("3"),t.xp6(2),t.Oqu(i.qty3),t.xp6(2),t.Oqu(i.qlty3),t.xp6(2),t.Oqu(i.timely3),t.xp6(3),t.Oqu("2"),t.xp6(2),t.Oqu(i.qty2),t.xp6(2),t.Oqu(i.qlty2),t.xp6(2),t.Oqu(i.timely2),t.xp6(3),t.Oqu("1"),t.xp6(2),t.Oqu(i.qty1),t.xp6(2),t.Oqu(i.qlty1),t.xp6(2),t.Oqu(i.timely1)}}function Zt(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"div",42)(1,"button",43),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(2).$implicit,o=t.oxw(3);return t.KtG(o.DeleteIPCRDetails(e.ipcrDataId))}),t._uU(2,"Delete"),t.qZA()()}}function yt(n,r){if(1&n){const i=t.EpF();t.ynx(0),t.TgZ(1,"div",44)(2,"div")(3,"b",45),t._uU(4),t.qZA()(),t.TgZ(5,"div")(6,"small",46),t._uU(7," SUBTASK MFO "),t.qZA()()(),t.TgZ(8,"div",47)(9,"div",30)(10,"h2",31)(11,"button",32),t._UZ(12,"i",33),t._uU(13," \xa0 "),t.TgZ(14,"strong",34)(15,"u"),t._uU(16),t.qZA()(),t._uU(17),t.qZA(),t.TgZ(18,"div",16)(19,"button",17),t._UZ(20,"i",18),t.qZA(),t.TgZ(21,"div",19)(22,"a",48),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw(5);return t.KtG(s.EditIPCRSubtaskDetails(o))}),t._UZ(23,"i",36),t._uU(24," Edit"),t.qZA(),t.TgZ(25,"a",20),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw(5);return t.KtG(s.DeleteIPCRSTDetails(o.ipcrSubtaskId))}),t._UZ(26,"i",21),t._uU(27," Delete"),t.qZA()()()(),t.TgZ(28,"div",49)(29,"div",38)(30,"div",39)(31,"table",40)(32,"thead")(33,"tr")(34,"th"),t._uU(35,"RATING"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"QUANTITY"),t.qZA(),t.TgZ(38,"th"),t._uU(39,"QUALITY"),t.qZA(),t.TgZ(40,"th"),t._uU(41,"TIMELINESS"),t.qZA()()(),t.TgZ(42,"tbody")(43,"tr")(44,"td"),t._uU(45),t.qZA(),t.TgZ(46,"td"),t._uU(47),t.qZA(),t.TgZ(48,"td"),t._uU(49),t.qZA(),t.TgZ(50,"td"),t._uU(51),t.qZA()(),t.TgZ(52,"tr")(53,"td"),t._uU(54),t.qZA(),t.TgZ(55,"td"),t._uU(56),t.qZA(),t.TgZ(57,"td"),t._uU(58),t.qZA(),t.TgZ(59,"td"),t._uU(60),t.qZA()(),t.TgZ(61,"tr")(62,"td"),t._uU(63),t.qZA(),t.TgZ(64,"td"),t._uU(65),t.qZA(),t.TgZ(66,"td"),t._uU(67),t.qZA(),t.TgZ(68,"td"),t._uU(69),t.qZA()(),t.TgZ(70,"tr")(71,"td"),t._uU(72),t.qZA(),t.TgZ(73,"td"),t._uU(74),t.qZA(),t.TgZ(75,"td"),t._uU(76),t.qZA(),t.TgZ(77,"td"),t._uU(78),t.qZA()(),t.TgZ(79,"tr")(80,"td"),t._uU(81),t.qZA(),t.TgZ(82,"td"),t._uU(83),t.qZA(),t.TgZ(84,"td"),t._uU(85),t.qZA(),t.TgZ(86,"td"),t._uU(87),t.qZA()()()()()()()()(),t.BQk()}if(2&n){const i=r.$implicit,a=r.index,e=t.oxw(3).index;t.xp6(4),t.lnq("",e+1,".",a+1,". ",i.stMfo,""),t.xp6(6),t.MGl("id","headingST",a,""),t.xp6(1),t.uIk("data-bs-target","#accordionST"+a)("aria-controls","accordionST"+a),t.xp6(5),t.AsE(" ",i.qty,"",i.qtyUnit?"%":""," "),t.xp6(1),t.hij(" \xa0 ",i.stIndicator," "),t.xp6(11),t.MGl("id","accordionST",a,""),t.xp6(17),t.Oqu("5"),t.xp6(2),t.Oqu(i.qty5),t.xp6(2),t.Oqu(i.qlty5),t.xp6(2),t.Oqu(i.timely5),t.xp6(3),t.Oqu("4"),t.xp6(2),t.Oqu(i.qty4),t.xp6(2),t.Oqu(i.qlty4),t.xp6(2),t.Oqu(i.timely4),t.xp6(3),t.Oqu("3"),t.xp6(2),t.Oqu(i.qty3),t.xp6(2),t.Oqu(i.qlty3),t.xp6(2),t.Oqu(i.timely3),t.xp6(3),t.Oqu("2"),t.xp6(2),t.Oqu(i.qty2),t.xp6(2),t.Oqu(i.qlty2),t.xp6(2),t.Oqu(i.timely2),t.xp6(3),t.Oqu("1"),t.xp6(2),t.Oqu(i.qty1),t.xp6(2),t.Oqu(i.qlty1),t.xp6(2),t.Oqu(i.timely1)}}function qt(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"div",51)(1,"div",30)(2,"h2",31)(3,"button",32),t._UZ(4,"i",33),t._uU(5," \xa0 "),t.TgZ(6,"strong",34)(7,"u"),t._uU(8),t.qZA()(),t._uU(9),t.qZA(),t.TgZ(10,"div",16)(11,"button",17),t._UZ(12,"i",18),t.qZA(),t.TgZ(13,"div",19)(14,"a",48),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw(6);return t.KtG(s.EditIPCRSubtaskDetails(o))}),t._UZ(15,"i",36),t._uU(16," Edit"),t.qZA(),t.TgZ(17,"a",20),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw(6);return t.KtG(s.DeleteIPCRSTDetails(o.ipcrSubtaskId))}),t._UZ(18,"i",21),t._uU(19," Delete"),t.qZA()()()(),t.TgZ(20,"div",52)(21,"div",38)(22,"div",39)(23,"table",40)(24,"thead")(25,"tr")(26,"th"),t._uU(27,"RATING"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"QUANTITY"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"QUALITY"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"TIMELINESS"),t.qZA()()(),t.TgZ(34,"tbody")(35,"tr")(36,"td"),t._uU(37),t.qZA(),t.TgZ(38,"td"),t._uU(39),t.qZA(),t.TgZ(40,"td"),t._uU(41),t.qZA(),t.TgZ(42,"td"),t._uU(43),t.qZA()(),t.TgZ(44,"tr")(45,"td"),t._uU(46),t.qZA(),t.TgZ(47,"td"),t._uU(48),t.qZA(),t.TgZ(49,"td"),t._uU(50),t.qZA(),t.TgZ(51,"td"),t._uU(52),t.qZA()(),t.TgZ(53,"tr")(54,"td"),t._uU(55),t.qZA(),t.TgZ(56,"td"),t._uU(57),t.qZA(),t.TgZ(58,"td"),t._uU(59),t.qZA(),t.TgZ(60,"td"),t._uU(61),t.qZA()(),t.TgZ(62,"tr")(63,"td"),t._uU(64),t.qZA(),t.TgZ(65,"td"),t._uU(66),t.qZA(),t.TgZ(67,"td"),t._uU(68),t.qZA(),t.TgZ(69,"td"),t._uU(70),t.qZA()(),t.TgZ(71,"tr")(72,"td"),t._uU(73),t.qZA(),t.TgZ(74,"td"),t._uU(75),t.qZA(),t.TgZ(76,"td"),t._uU(77),t.qZA(),t.TgZ(78,"td"),t._uU(79),t.qZA()()()()()()()()()}if(2&n){const i=r.$implicit,a=r.index;t.xp6(2),t.MGl("id","headingStCmfo",a,""),t.xp6(1),t.uIk("data-bs-target","#accordionStCmfo"+a)("aria-controls","accordionStCmfo"+a),t.xp6(5),t.AsE(" ",i.qty,"",i.qtyUnit?"%":""," "),t.xp6(1),t.hij(" \xa0 ",i.indicator," "),t.xp6(11),t.MGl("id","accordionStCmfo",a,""),t.xp6(17),t.Oqu("5"),t.xp6(2),t.Oqu(i.qty5),t.xp6(2),t.Oqu(i.qlty5),t.xp6(2),t.Oqu(i.timely5),t.xp6(3),t.Oqu("4"),t.xp6(2),t.Oqu(i.qty4),t.xp6(2),t.Oqu(i.qlty4),t.xp6(2),t.Oqu(i.timely4),t.xp6(3),t.Oqu("3"),t.xp6(2),t.Oqu(i.qty3),t.xp6(2),t.Oqu(i.qlty3),t.xp6(2),t.Oqu(i.timely3),t.xp6(3),t.Oqu("2"),t.xp6(2),t.Oqu(i.qty2),t.xp6(2),t.Oqu(i.qlty2),t.xp6(2),t.Oqu(i.timely2),t.xp6(3),t.Oqu("1"),t.xp6(2),t.Oqu(i.qty1),t.xp6(2),t.Oqu(i.qlty1),t.xp6(2),t.Oqu(i.timely1)}}function vt(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",44)(2,"div")(3,"b",45),t._uU(4),t.qZA()(),t.TgZ(5,"div")(6,"small",46),t._uU(7," SUBTASK MFO "),t.qZA()()(),t.YNc(8,qt,80,27,"div",50),t.BQk()),2&n){const i=r.$implicit,a=r.index,e=t.oxw(2).$implicit,o=t.oxw().index;t.xp6(4),t.lnq("",o+1,".",e.st.length+a+1,". ",i.mfo,""),t.xp6(4),t.Q6J("ngForOf",i.si)}}function xt(n,r){if(1&n&&(t.YNc(0,Zt,3,0,"div",41),t.YNc(1,yt,88,30,"ng-container",23),t.YNc(2,vt,9,4,"ng-container",23)),2&n){const i=t.oxw().$implicit;t.Q6J("ngIf",0===i.st.length),t.xp6(1),t.Q6J("ngForOf",i.st),t.xp6(1),t.Q6J("ngForOf",i.stCmfo)}}function Ct(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Tt,80,27,"div",27),t.YNc(2,xt,3,3,"ng-template",null,28,t.W1O),t.BQk()),2&n){const i=r.$implicit,a=t.MAs(3);t.xp6(1),t.Q6J("ngIf",0===i.isSubTask||null===i.isSubTask)("ngIfElse",a)}}function It(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"div",11)(1,"div",12)(2,"div")(3,"b",13),t._uU(4),t.qZA()(),t.TgZ(5,"div")(6,"small",14),t._uU(7),t.qZA(),t.YNc(8,ht,4,3,"ul",15),t.TgZ(9,"div",16)(10,"button",17),t._UZ(11,"i",18),t.qZA(),t.TgZ(12,"div",19)(13,"a",20),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw(2);return t.KtG(s.DeleteIPCRDetails(o.ipcrDataId))}),t._UZ(14,"i",21),t._uU(15," Delete"),t.qZA()()()()(),t.TgZ(16,"div",22),t.YNc(17,Ct,4,2,"ng-container",23),t.qZA()()}if(2&n){const i=r.$implicit,a=r.index,e=t.oxw(2);t.xp6(4),t.AsE("",a+1,". ",i.mfo,""),t.xp6(2),t.Q6J("ngClass","1"==i.categoryId?"bg-label-success":"2"==i.categoryId?"bg-label-primary":"3"==i.categoryId?"bg-label-warning":"bg-label-secondary"),t.xp6(1),t.hij(" ",e.displayCatergory(i.categoryId)," "),t.xp6(1),t.Q6J("ngIf",!i.isIpcrMfo),t.xp6(9),t.Q6J("ngForOf",i.si)}}function At(n,r){if(1&n){const i=t.EpF();t._UZ(0,"img",53),t.TgZ(1,"span",54)(2,"div")(3,"label",55)(4,"strong"),t._uU(5,"No Data Found!"),t.qZA()()(),t.TgZ(6,"div")(7,"button",56),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(2);return t.KtG(e.handleExpandCard())}),t._UZ(8,"i",10),t._uU(9," MAJOR FINAL OUTPUT "),t.qZA()()()}}function Mt(n,r){if(1&n){const i=t.EpF();t.ynx(0),t.YNc(1,gt,3,0,"button",4),t.TgZ(2,"div",5)(3,"div",6),t.NdJ("cdkDropListDropped",function(e){t.CHM(i);const o=t.oxw();return t.KtG(o.drop(e))}),t.YNc(4,It,18,6,"div",7),t.qZA()(),t.YNc(5,At,10,0,"ng-template",null,8,t.W1O),t.BQk()}if(2&n){const i=t.MAs(6),a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.mfoes.data.length>0)("ngIfElse",i),t.xp6(1),t.Q6J("ngClass",a.isExpand?"col-xl-6":"col-xl-12"),t.xp6(2),t.Q6J("ngForOf",a.mfoes.data)}}function kt(n,r){1&n&&t._UZ(0,"app-skeleton-loading")}let Ut=(()=>{var n;class r{constructor(){this.dpcrService=(0,t.f3M)(Z.t),this.opcrService=(0,t.f3M)(X.m),this.ipcrService=(0,t.f3M)(u.$),this.mfoes=this.ipcrService.ipcrDetails(),this.mfo={},this.subtask={},this.handleExpand=new t.vpe}ngOnInit(){this.ipcrService.GetIPCRDetails()}drop(a){console.log(a),(0,y.bA)(this.mfoes.data,a.previousIndex,a.currentIndex),console.log(a);let e=[];this.mfoes.data.forEach((o,s)=>{o.si.forEach(d=>{e.some(h=>h.ipcrDataId===d.ipcrDataId)||e.push({ipcrDataId:d.ipcrDataId,index:s})})}),this.ipcrService.PutIpcrDataSortByMfo(e),console.log(e)}EditIPCRDetails(a,e){this.ipcrService.GetIPCRDetailsRemaining(e.dpcrDataId),this.mfo=e,this.mfo.sortByMFO=a.sortByMFO,this.mfo.isIpcrMfo=a.isIpcrMfo,this.mfo.returnQty=e.qty,this.mfo.promptEdit=!1}EditIPCRSubtaskDetails(a){this.mfo.add_qtyRemainingST=this.mfo.dpcrSTQuantity-this.ipcrService.ipcrST_rem(),this.ipcrService.GetIPCRDetailsRemainingST(a.subTaskId,a.dpcrDataId),this.subtask=a,this.subtask.returnQtyST=a.qty,this.subtask.promptEditST=!1}DeleteIPCRDetails(a){this.ipcrService.DeleteIPCRDetails(a)}DeleteIPCRSTDetails(a){this.ipcrService.DeleteIPCRSTDetails(a)}handleExpandCard(){this.handleExpand.emit()}displayCatergory(a){let e="";switch(a){case 1:e="STRATEGIC";break;case 2:e="CORE";break;case 3:e="SUPPORT"}return e?e+"":"NO FUNCTION"}PutMFOFromIpcrCategory(a,e,o){this.ipcrService.EditIpcrDataMfoCategory(a,e,o)}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-table-ipcr-data"]],inputs:{isExpand:"isExpand"},outputs:{handleExpand:"handleExpand"},decls:5,vars:4,consts:[[4,"ngIf","ngIfElse"],["LoadingView",""],[3,"mfo"],[3,"subtask"],["data-bs-toggle","offcanvas","data-bs-target","#offcanvasIpcrMfoes","aria-controls","offcanvasScroll","type","button","class","btn btn-primary mt-2",3,"click",4,"ngIf","ngIfElse"],[3,"ngClass"],["cdkDropList","",3,"cdkDropListDropped"],["class","card my-2","cdkDrag","",4,"ngFor","ngForOf"],["showNoData",""],["data-bs-toggle","offcanvas","data-bs-target","#offcanvasIpcrMfoes","aria-controls","offcanvasScroll","type","button",1,"btn","btn-primary","mt-2",3,"click"],[1,"bx","bx-plus"],["cdkDrag","",1,"card","my-2"],[1,"card-header","x-space-between"],[1,"text-primary"],["data-bs-toggle","dropdown","aria-expanded","false",1,"badge","rounded-pill","float-end","cursor-pointer",3,"ngClass"],["class","dropdown-menu dropdown-menu-end pointer",4,"ngIf"],[1,"dropdown",2,"position","absolute","right","0px","top","20px","z-index","3"],["type","button","data-bs-toggle","dropdown",1,"btn","p-0","dropdown-toggle","hide-arrow"],[1,"bx","bx-dots-vertical-rounded","text-primary",2,"position","absolute","right","0px","top","0px","z-index","3"],[1,"dropdown-menu"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"bx","bx-trash","me-1"],[1,"card-body"],[4,"ngFor","ngForOf"],[1,"dropdown-menu","dropdown-menu-end","pointer"],[4,"ngIf"],[1,"dropdown-item",3,"click"],["class","accordion","id","accordionExample",4,"ngIf","ngIfElse"],["showSubtask",""],["id","accordionExample",1,"accordion"],[1,"card","accordion-item"],[1,"accordion-header",2,"margin-right","10px",3,"id"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],[1,"bx","bx-label"],[1,"text-success"],["data-bs-toggle","modal","data-bs-target","#modalEdit",1,"dropdown-item","cursor-pointer",3,"click"],[1,"bx","bx-edit-alt","me-1"],["data-bs-parent","#accordionExample",1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],[1,"table-responsive","text-nowrap"],[1,"table","table-bordered"],["class","mb-2",4,"ngIf"],[1,"mb-2"],[1,"btn","btn-danger",3,"click"],[1,"x-space-between","m-2"],[1,"text-secondary"],[1,"badge","rounded-pill",2,"background-color","black"],["id","accordionExampleST",1,"accordion"],["data-bs-toggle","modal","data-bs-target","#modalEditSubtask",1,"dropdown-item","cursor-pointer",3,"click"],["data-bs-parent","#accordionExampleST",1,"accordion-collapse","collapse",3,"id"],["class","accordion my-1","id","accordionExampleStCmfo",4,"ngFor","ngForOf"],["id","accordionExampleStCmfo",1,"accordion","my-1"],["data-bs-parent","#accordionExampleStCmfo",1,"accordion-collapse","collapse",3,"id"],["src","assets/img/document.png","alt","","width","200","height","200",2,"display","block","margin","0 auto","margin-top","20px"],[2,"display","flex","flex-direction","column","justify-content","space-between","align-items","center","height","100%"],[2,"margin-bottom","10px"],["data-bs-toggle","offcanvas","data-bs-target","#offcanvasIpcrMfoes","aria-controls","offcanvasScroll","type","button",1,"btn","btn-primary",3,"click"]],template:function(a,e){if(1&a&&(t.YNc(0,Mt,7,4,"ng-container",0),t.YNc(1,kt,1,0,"ng-template",null,1,t.W1O),t._UZ(3,"app-modal-edit-mfo",2)(4,"app-modal-edit-subtask",3)),2&a){const o=t.MAs(2);t.Q6J("ngIf",!e.mfoes.isLoading)("ngIfElse",o),t.xp6(3),t.Q6J("mfo",e.mfo),t.xp6(1),t.Q6J("subtask",e.subtask)}},dependencies:[c.mk,c.sg,c.O5,y.Zt,y.Wj,rt,dt,ut],data:{animation:[(0,g.X$)("rowState",[(0,g.SB)("void",(0,g.oB)({opacity:0})),(0,g.eR)(":enter",[(0,g.jt)("0.5s",(0,g.oB)({opacity:1}))]),(0,g.eR)(":leave",[(0,g.jt)("0.1s",(0,g.oB)({opacity:0}))])])]}}),r})();var T=p(5861);const St=["closebutton"];function wt(n,r){if(1&n&&(t.TgZ(0,"span",28),t._uU(1),t.qZA()),2&n){const i=t.oxw();t.Q6J("ngClass","1"==i.mfo.qtyUnit?"badge rounded-pill bg-label-success":"badge rounded-pill bg-label-primary"),t.xp6(1),t.hij(" ",i.quantityLabeler(i.mfo.qtyUnit)," ")}}function Jt(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"div",10)(1,"label",12),t._uU(2,"DPCR Quantity Remaining"),t.qZA(),t.TgZ(3,"input",29),t.NdJ("ngModelChange",function(e){t.CHM(i);const o=t.oxw();return t.KtG(o.mfo.qty_rem=e)}),t.qZA()()}if(2&n){const i=t.oxw();t.xp6(3),t.Q6J("value",i.mfo.qty_rem-i.ipcrService.ipcr_rem())("ngModel",i.mfo.qty_rem)}}function Nt(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"div",10)(1,"label",12),t._uU(2,"DPCR Total Quantity"),t.qZA(),t._uU(3,"\xa0 "),t.TgZ(4,"span",28),t._uU(5),t.qZA(),t.TgZ(6,"input",30),t.NdJ("ngModelChange",function(e){t.CHM(i);const o=t.oxw();return t.KtG(o.mfo.dpcrQuantity=e)}),t.qZA()()}if(2&n){const i=t.oxw();t.xp6(4),t.Q6J("ngClass","1"==i.mfo.active?"badge rounded-pill bg-label-success":"badge rounded-pill bg-label-primary"),t.xp6(1),t.Oqu(i.quantityLabeler(i.mfo.qtyUnit)),t.xp6(1),t.Q6J("ngModel",i.mfo.dpcrQuantity)}}function Qt(n,r){1&n&&(t.TgZ(0,"div")(1,"div",31),t._UZ(2,"i",32),t._uU(3,"\xa0Quantity must not exceed to REMAINING or REMAINING already depleted to zero! "),t.qZA()())}let Et=(()=>{var n;class r{constructor(){this.ipcrService=(0,t.f3M)(u.$),this.prompt=!1,this.buttonTrap=!1}ngOnInit(){}PostIPCRDetails(){this.dpcrQuantity-this.ipcrService.ipcr_rem()==0&&0==this.mfo.qtyUnit&&(this.mfo.prompt=!0),this.buttonTrap=!!this.mfo.prompt,this.buttonTrap||(this.mfo.qty=this.mfo.quantity,this.mfo.ipcrId=localStorage.getItem("ipcrId"),this.ipcrService.AddIPCRData(this.mfo),this.closebutton.nativeElement.click())}quantityLabeler(a){let e;switch(a){case 0:e="Numeric";break;case 1:e="Percentage"}return e}trapRemaining(){console.log(this.mfo),this.mfo.quantity>=0?(this.mfo.qty_rem=this.mfo.dpcrQuantity-this.mfo.quantity-this.ipcrService.ipcr_rem(),0===this.mfo.quantity||null===this.mfo.quantity?(this.mfo.qty5=null,this.mfo.qty4=null,this.mfo.qty3=null,this.mfo.qty2=null,this.mfo.qty1=null):(this.mfo.qty5=Math.floor(.3*this.mfo.quantity+this.mfo.quantity),this.mfo.qty4=Math.floor(.15*this.mfo.quantity+this.mfo.quantity),this.mfo.qty3=Math.floor(this.mfo.quantity),this.mfo.qty2=Math.floor(this.mfo.quantity/2+1),this.mfo.qty1=Math.floor(this.mfo.quantity/2),this.mfo.qty3>=4&&this.mfo.qty3<=6?(this.mfo.qty4+=1,this.mfo.qty5+=1):3==this.mfo.qty3?(this.mfo.qty4+=1,this.mfo.qty5+=2):2==this.mfo.qty3?(this.mfo.qty4+=1,this.mfo.qty5+=2,this.mfo.qty2-=1,this.mfo.qty1-=1):1==this.mfo.qty3&&(this.mfo.qty5=1,this.mfo.qty4=null,this.mfo.qty3=null,this.mfo.qty2=null,this.mfo.qty1=null)),this.mfo.prompt=this.mfo.quantity>this.mfo.dpcrQuantity-this.ipcrService.ipcr_rem()&&0===this.mfo.isIpcrMfo||this.mfo.quantity<0&&0===this.mfo.isIpcrMfo):this.mfo.prompt=this.mfo.quantity>this.mfo.dpcrQuantity&&0===this.mfo.isIpcrMfo||this.mfo.quantity<0&&0===this.mfo.isIpcrMfo}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-modal-add-mfo"]],viewQuery:function(a,e){if(1&a&&t.Gf(St,5),2&a){let o;t.iGM(o=t.CRH())&&(e.closebutton=o.first)}},inputs:{mfo:"mfo"},decls:94,vars:26,consts:[["id","modalAddMfo","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"z-index","5000"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","modalCenterTitle",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["closebutton",""],[1,"modal-body"],[1,"mb-3"],[1,"row"],[1,"col-4"],[1,"x-space-between"],["for","basic-default-fullname",1,"form-label"],[3,"ngClass",4,"ngIf"],["type","number","id","basic-default-fullname","placeholder","","min","0",1,"form-control",3,"ngModel","ngModelChange"],["class","col-4",4,"ngIf"],[1,"col-12"],[4,"ngIf"],[1,"card"],[1,"table-responsive"],[1,"table"],[1,"table-light"],[1,"table-border-bottom-0"],[1,"form-floating"],["type","number","id","floatingInput","placeholder","","aria-describedby","floatingInputHelp",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[3,"ngClass"],["disabled","","type","number","id","basic-default-fullname","placeholder","",1,"form-control",3,"value","ngModel","ngModelChange"],["disabled","","type","number","id","basic-default-fullname","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],["role","alert",1,"alert","alert-danger"],[1,"bx","bxs-x-square"]],template:function(a,e){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5),t.qZA(),t._UZ(6,"button",5,6),t.qZA(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div")(14,"label",12),t._uU(15,"Quantity"),t.qZA()(),t.TgZ(16,"div"),t.YNc(17,wt,2,2,"span",13),t.qZA()(),t.TgZ(18,"input",14),t.NdJ("ngModelChange",function(s){return e.mfo.quantity=s})("ngModelChange",function(){return e.trapRemaining()}),t.qZA(),t._UZ(19,"br"),t.qZA(),t.YNc(20,Jt,4,2,"div",15),t.YNc(21,Nt,7,3,"div",15),t.TgZ(22,"div",16),t.YNc(23,Qt,4,0,"div",17),t.qZA()(),t._UZ(24,"br"),t.TgZ(25,"div",18)(26,"div",19)(27,"table",20)(28,"thead",21)(29,"tr")(30,"th"),t._uU(31,"RATING"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"QUANTITY"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"QUALITY"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"TIMELINESS"),t.qZA()()(),t.TgZ(38,"tbody",22)(39,"tr")(40,"td"),t._uU(41),t.qZA(),t.TgZ(42,"td")(43,"div",23)(44,"input",24),t.NdJ("ngModelChange",function(s){return e.mfo.qty5=s}),t.qZA()()(),t.TgZ(45,"td"),t._uU(46),t.qZA(),t.TgZ(47,"td"),t._uU(48),t.qZA()(),t.TgZ(49,"tr")(50,"td"),t._uU(51),t.qZA(),t.TgZ(52,"td")(53,"div",23)(54,"input",24),t.NdJ("ngModelChange",function(s){return e.mfo.qty4=s}),t.qZA()()(),t.TgZ(55,"td"),t._uU(56),t.qZA(),t.TgZ(57,"td"),t._uU(58),t.qZA()(),t.TgZ(59,"tr")(60,"td"),t._uU(61),t.qZA(),t.TgZ(62,"td")(63,"div",23)(64,"input",24),t.NdJ("ngModelChange",function(s){return e.mfo.qty3=s}),t.qZA()()(),t.TgZ(65,"td"),t._uU(66),t.qZA(),t.TgZ(67,"td"),t._uU(68),t.qZA()(),t.TgZ(69,"tr")(70,"td"),t._uU(71),t.qZA(),t.TgZ(72,"td")(73,"div",23)(74,"input",24),t.NdJ("ngModelChange",function(s){return e.mfo.qty2=s}),t.qZA()()(),t.TgZ(75,"td"),t._uU(76),t.qZA(),t.TgZ(77,"td"),t._uU(78),t.qZA()(),t.TgZ(79,"tr")(80,"td"),t._uU(81),t.qZA(),t.TgZ(82,"td")(83,"div",23)(84,"input",24),t.NdJ("ngModelChange",function(s){return e.mfo.qty1=s}),t.qZA()()(),t.TgZ(85,"td"),t._uU(86),t.qZA(),t.TgZ(87,"td"),t._uU(88),t.qZA()()()()()()()(),t.TgZ(89,"div",25)(90,"button",26),t._uU(91," Close "),t.qZA(),t.TgZ(92,"button",27),t.NdJ("click",function(){return e.PostIPCRDetails()}),t._uU(93," Save Details "),t.qZA()()()()()),2&a&&(t.xp6(5),t.hij(" ",e.mfo.indicator," "),t.xp6(12),t.Q6J("ngIf",e.mfo.isIpcrMfo),t.xp6(1),t.Q6J("ngModel",e.mfo.quantity),t.xp6(2),t.Q6J("ngIf",0==e.mfo.qtyUnit&&!e.mfo.isIpcrMfo),t.xp6(1),t.Q6J("ngIf",!e.mfo.isIpcrMfo),t.xp6(2),t.Q6J("ngIf",e.mfo.prompt),t.xp6(18),t.Oqu("5"),t.xp6(3),t.Q6J("ngModel",e.mfo.qty5),t.xp6(2),t.hij(" ",e.mfo.qlty5," "),t.xp6(2),t.hij(" ",e.mfo.timely5," "),t.xp6(3),t.Oqu("4"),t.xp6(3),t.Q6J("ngModel",e.mfo.qty4),t.xp6(2),t.hij(" ",e.mfo.qlty4," "),t.xp6(2),t.hij(" ",e.mfo.timely4," "),t.xp6(3),t.Oqu("3"),t.xp6(3),t.Q6J("ngModel",e.mfo.qty3),t.xp6(2),t.hij(" ",e.mfo.qlty3," "),t.xp6(2),t.hij(" ",e.mfo.timely3," "),t.xp6(3),t.Oqu("2"),t.xp6(3),t.Q6J("ngModel",e.mfo.qty2),t.xp6(2),t.hij(" ",e.mfo.qlty2," "),t.xp6(2),t.hij(" ",e.mfo.timely2," "),t.xp6(3),t.Oqu("1"),t.xp6(3),t.Q6J("ngModel",e.mfo.qty1),t.xp6(2),t.hij(" ",e.mfo.qlty1," "),t.xp6(2),t.hij(" ",e.mfo.timely1," "))},dependencies:[c.mk,c.O5,l.Fj,l.wV,l.JJ,l.qQ,l.On],encapsulation:2}),r})();const Ot=["closebutton"];function Dt(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"div",10)(1,"label",11),t._uU(2,"DPCR Quantity Remaining"),t.qZA(),t.TgZ(3,"input",15),t.NdJ("ngModelChange",function(e){t.CHM(i);const o=t.oxw();return t.KtG(o.subtask.qty_rem=e)}),t.qZA()()}if(2&n){const i=t.oxw();t.xp6(3),t.Q6J("ngModel",i.subtask.qty_rem)}}function Yt(n,r){1&n&&(t.TgZ(0,"div")(1,"div",28),t._UZ(2,"i",29),t._uU(3,"\xa0Quantity must not exceed to REMAINING or REMAINING already depleted to zero! "),t.qZA()())}let Ft=(()=>{var n;class r{constructor(){this.ipcrService=(0,t.f3M)(u.$),this.prompt=!1,this.buttonTrap=!1}ngOnInit(){this.add_qty_rem=this.subtask.qty-this.ipcrService.ipcr_rem()}PostIPCRDetails(){this.dpcrQuantity-this.ipcrService.ipcr_rem()==0&&0==this.subtask.qtyUnit&&(this.subtask.prompt=!0),this.buttonTrap=!!this.subtask.prompt,this.buttonTrap||(this.subtask.qty=this.subtask.quantity,this.subtask.ipcrId=localStorage.getItem("ipcrId"),this.ipcrService.AddIPCRData(this.subtask),this.ipcrService.AddIPCRSubData(this.subtask),this.closebutton.nativeElement.click())}quantityLabeler(a){let e;switch(a){case 0:e="Numeric";break;case 1:e="Percentage"}return e}trapRemaining(){0==this.subtask.qtyUnit&&this.subtask.quantity>0?(this.subtask.qty_rem=this.subtask.dpcrQuantity-this.subtask.quantity-this.ipcrService.ipcr_rem(),this.subtask.qty5=Math.floor(.3*this.subtask.quantity+this.subtask.quantity),this.subtask.qty4=Math.floor(.15*this.subtask.quantity+this.subtask.quantity),this.subtask.qty3=Math.floor(this.subtask.quantity),this.subtask.qty2=Math.floor(this.subtask.quantity/2+1),this.subtask.qty1=Math.floor(this.subtask.quantity/2),this.subtask.qty3>=4&&this.subtask.qty3<=6?(this.subtask.qty4+=1,this.subtask.qty5+=1):3==this.subtask.qty3?(this.subtask.qty4+=1,this.subtask.qty5+=2):2==this.subtask.qty3?(this.subtask.qty4+=1,this.subtask.qty5+=2,this.subtask.qty2-=1,this.subtask.qty1-=1):1==this.subtask.qty3?(this.subtask.qty5=1,this.subtask.qty4=null,this.subtask.qty3=null,this.subtask.qty2=null,this.subtask.qty1=null):this.subtask.qty<=0&&(this.subtask.qty5=null,this.subtask.qty4=null,this.subtask.qty3=null,this.subtask.qty2=null,this.subtask.qty1=null),this.subtask.prompt=this.subtask.quantity>this.subtask.dpcrQuantity-this.ipcrService.ipcr_rem()||this.subtask.quantity<0):this.subtask.prompt=this.subtask.quantity>this.subtask.dpcrQuantity||this.subtask.quantity<0}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-modal-add-subtask"]],viewQuery:function(a,e){if(1&a&&t.Gf(Ot,5),2&a){let o;t.iGM(o=t.CRH())&&(e.closebutton=o.first)}},inputs:{subtask:"subtask"},decls:96,vars:26,consts:[["id","modalAddSubtask","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"z-index","5000"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","modalCenterTitle",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["closebutton",""],[1,"modal-body"],[1,"mb-3"],[1,"row"],[1,"col-4"],["for","basic-default-fullname",1,"form-label"],["type","number","id","basic-default-fullname","placeholder","","min","1",1,"form-control",3,"ngModel","ngModelChange"],["class","col-4",4,"ngIf"],[1,"badge","rounded-pill","bg-success"],["disabled","","type","number","id","basic-default-fullname","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12"],[4,"ngIf"],[1,"card"],[1,"table-responsive","text-nowrap"],[1,"table"],[1,"table-light"],[1,"table-border-bottom-0"],[1,"form-floating"],["type","number","id","floatingInput","placeholder","","aria-describedby","floatingInputHelp",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary"],["type","button",1,"btn","btn-primary",3,"click"],["role","alert",1,"alert","alert-danger"],[1,"bx","bxs-x-square"]],template:function(a,e){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5),t.qZA(),t._UZ(6,"button",5,6),t.qZA(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),t._uU(13,"Quantity"),t.qZA(),t.TgZ(14,"input",12),t.NdJ("ngModelChange",function(s){return e.subtask.quantity=s})("ngModelChange",function(){return e.trapRemaining()}),t.qZA(),t._UZ(15,"br"),t.qZA(),t.YNc(16,Dt,4,1,"div",13),t.TgZ(17,"div",10)(18,"label",11),t._uU(19,"DPCR Total Quantity"),t.qZA(),t._uU(20,"\xa0 "),t.TgZ(21,"span",14),t._uU(22),t.qZA(),t.TgZ(23,"input",15),t.NdJ("ngModelChange",function(s){return e.subtask.dpcrQuantity=s}),t.qZA()(),t.TgZ(24,"div",16),t.YNc(25,Yt,4,0,"div",17),t.qZA()(),t._UZ(26,"br"),t.TgZ(27,"div",18)(28,"div",19)(29,"table",20)(30,"thead",21)(31,"tr")(32,"th"),t._uU(33,"RATING"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"QUANTITY"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"QUALITY"),t.qZA(),t.TgZ(38,"th"),t._uU(39,"TIMELINESS"),t.qZA()()(),t.TgZ(40,"tbody",22)(41,"tr")(42,"td"),t._uU(43),t.qZA(),t.TgZ(44,"td")(45,"div",23)(46,"input",24),t.NdJ("ngModelChange",function(s){return e.subtask.qty5=s}),t.qZA()()(),t.TgZ(47,"td"),t._uU(48),t.qZA(),t.TgZ(49,"td"),t._uU(50),t.qZA()(),t.TgZ(51,"tr")(52,"td"),t._uU(53),t.qZA(),t.TgZ(54,"td")(55,"div",23)(56,"input",24),t.NdJ("ngModelChange",function(s){return e.subtask.qty4=s}),t.qZA()()(),t.TgZ(57,"td"),t._uU(58),t.qZA(),t.TgZ(59,"td"),t._uU(60),t.qZA()(),t.TgZ(61,"tr")(62,"td"),t._uU(63),t.qZA(),t.TgZ(64,"td")(65,"div",23)(66,"input",24),t.NdJ("ngModelChange",function(s){return e.subtask.qty3=s}),t.qZA()()(),t.TgZ(67,"td"),t._uU(68),t.qZA(),t.TgZ(69,"td"),t._uU(70),t.qZA()(),t.TgZ(71,"tr")(72,"td"),t._uU(73),t.qZA(),t.TgZ(74,"td")(75,"div",23)(76,"input",24),t.NdJ("ngModelChange",function(s){return e.subtask.qty2=s}),t.qZA()()(),t.TgZ(77,"td"),t._uU(78),t.qZA(),t.TgZ(79,"td"),t._uU(80),t.qZA()(),t.TgZ(81,"tr")(82,"td"),t._uU(83),t.qZA(),t.TgZ(84,"td")(85,"div",23)(86,"input",24),t.NdJ("ngModelChange",function(s){return e.subtask.qty1=s}),t.qZA()()(),t.TgZ(87,"td"),t._uU(88),t.qZA(),t.TgZ(89,"td"),t._uU(90),t.qZA()()()()()()()(),t.TgZ(91,"div",25)(92,"button",26),t._uU(93," Close "),t.qZA(),t.TgZ(94,"button",27),t.NdJ("click",function(){return e.PostIPCRDetails()}),t._uU(95," Save Details "),t.qZA()()()()()),2&a&&(t.xp6(5),t.hij(" ",e.subtask.indicator," "),t.xp6(9),t.Q6J("ngModel",e.subtask.quantity),t.xp6(2),t.Q6J("ngIf",0==e.subtask.qtyUnit),t.xp6(6),t.Oqu(e.quantityLabeler(e.subtask.qtyUnit)),t.xp6(1),t.Q6J("ngModel",e.subtask.dpcrQuantity),t.xp6(2),t.Q6J("ngIf",e.subtask.prompt),t.xp6(18),t.Oqu("5"),t.xp6(3),t.Q6J("ngModel",e.subtask.qty5),t.xp6(2),t.hij(" ",e.subtask.qlty5," "),t.xp6(2),t.hij(" ",e.subtask.timely5," "),t.xp6(3),t.Oqu("4"),t.xp6(3),t.Q6J("ngModel",e.subtask.qty4),t.xp6(2),t.hij(" ",e.subtask.qlty4," "),t.xp6(2),t.hij(" ",e.subtask.timely4," "),t.xp6(3),t.Oqu("3"),t.xp6(3),t.Q6J("ngModel",e.subtask.qty3),t.xp6(2),t.hij(" ",e.subtask.qlty3," "),t.xp6(2),t.hij(" ",e.subtask.timely3," "),t.xp6(3),t.Oqu("2"),t.xp6(3),t.Q6J("ngModel",e.subtask.qty2),t.xp6(2),t.hij(" ",e.subtask.qlty2," "),t.xp6(2),t.hij(" ",e.subtask.timely2," "),t.xp6(3),t.Oqu("1"),t.xp6(3),t.Q6J("ngModel",e.subtask.qty1),t.xp6(2),t.hij(" ",e.subtask.qlty1," "),t.xp6(2),t.hij(" ",e.subtask.timely1," "))},dependencies:[c.O5,l.Fj,l.wV,l.JJ,l.qQ,l.On],encapsulation:2}),r})();function Rt(n,r){if(1&n&&(t.TgZ(0,"span",26),t._uU(1),t.qZA()),2&n){const i=t.oxw();t.xp6(1),t.hij(" ",i.mfoes.data.length," ")}}function jt(n,r){if(1&n&&(t.TgZ(0,"span",26),t._uU(1),t.qZA()),2&n){const i=t.oxw();t.xp6(1),t.hij(" ",i.mfoes.data.length," ")}}function Lt(n,r){if(1&n&&(t.TgZ(0,"strong",32),t._uU(1),t.qZA()),2&n){const i=t.oxw(),a=i.index,e=i.$implicit;t.xp6(1),t.AsE(" ",a+1,".\xa0",e.mfo,"")}}const _=function(){return{margin:"0px"}};function Bt(n,r){1&n&&(t.TgZ(0,"div",33),t._UZ(1,"ngx-skeleton-loader",34),t.qZA()),2&n&&(t.xp6(1),t.Q6J("theme",t.DdM(1,_)))}function Gt(n,r){if(1&n&&(t.TgZ(0,"small",37),t._uU(1),t.qZA()),2&n){const i=t.oxw(2).$implicit,a=t.oxw();t.Q6J("ngClass","1"==i.categoryId?"bg-label-success":"2"==i.categoryId?"bg-label-primary":"3"==i.categoryId?"bg-label-warning":"bg-label-secondary"),t.xp6(1),t.hij(" ",a.displayCatergory(i.categoryId)," ")}}function Pt(n,r){if(1&n&&(t.TgZ(0,"small",37),t._uU(1),t.qZA()),2&n){const i=t.oxw(2).$implicit,a=t.oxw();t.Q6J("ngClass","1"==i.dpcrCategoryId?"bg-label-success":"2"==i.dpcrCategoryId?"bg-label-primary":"3"==i.dpcrCategoryId?"bg-label-warning":"bg-label-secondary"),t.xp6(1),t.hij(" ",a.displayCatergory(i.dpcrCategoryId)," ")}}function $t(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Gt,2,2,"small",35),t.YNc(2,Pt,2,2,"ng-template",null,36,t.W1O),t.qZA()),2&n){const i=t.MAs(3),a=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null!==a.categoryId)("ngIfElse",i)}}function Ht(n,r){if(1&n&&(t.TgZ(0,"div",43)(1,"b"),t._uU(2),t.qZA(),t._UZ(3,"i",44),t.TgZ(4,"strong")(5,"u"),t._uU(6),t.qZA()(),t._uU(7),t.qZA()),2&n){const i=t.oxw(),a=i.index,e=i.$implicit,o=t.oxw().index;t.xp6(2),t.AsE("",o+1,".",a+1,""),t.xp6(4),t.AsE("",e.qty,"",e.qtyUnit?"%":""," "),t.xp6(1),t.hij("\xa0",e.indicator," ")}}function Kt(n,r){1&n&&(t.TgZ(0,"div",45)(1,"div",46),t._UZ(2,"ngx-skeleton-loader",47),t.qZA(),t.TgZ(3,"div",48),t._UZ(4,"ngx-skeleton-loader",34),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("theme",t.DdM(2,_)),t.xp6(2),t.Q6J("theme",t.DdM(3,_)))}function Vt(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(2),o=e.$implicit,s=e.index,d=t.oxw(),m=d.$implicit,h=d.index,v=t.oxw();return t.KtG(v.SetIpcrDataObj(m,o,h,s))}),t._UZ(1,"span",51),t.qZA()}}function Wt(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Vt,2,0,"button",49),t.BQk()),2&n){const i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",0===i.isSubTask||null===i.isSubTask)}}function zt(n,r){1&n&&t._UZ(0,"ngx-skeleton-loader",47),2&n&&t.Q6J("theme",t.DdM(1,_))}function Xt(n,r){1&n&&(t.TgZ(0,"b",56),t._uU(1,"SUBTASK MFO"),t.qZA())}function te(n,r){1&n&&t._UZ(0,"ngx-skeleton-loader",34),2&n&&t.Q6J("theme",t.DdM(1,_))}function ee(n,r){if(1&n&&(t.TgZ(0,"strong",63),t._uU(1),t.qZA()),2&n){const i=t.oxw(),a=i.index,e=i.$implicit,o=t.oxw(2).index,s=t.oxw().index;t.xp6(1),t.HOy(" ",s+1,".",o+1,".",a+1,"\xa0",e.stMfo," ")}}function ne(n,r){1&n&&t._UZ(0,"ngx-skeleton-loader",34),2&n&&t.Q6J("theme",t.DdM(1,_))}function ie(n,r){if(1&n&&(t.TgZ(0,"div",64),t._UZ(1,"i",44),t.TgZ(2,"strong")(3,"u"),t._uU(4),t.qZA()(),t._uU(5),t.qZA()),2&n){const i=t.oxw().$implicit;t.xp6(4),t.AsE("",i.qty,"",i.qtyUnit?"%":""," "),t.xp6(1),t.hij("\xa0 ",i.stIndicator," ")}}function ae(n,r){1&n&&t._UZ(0,"ngx-skeleton-loader",34),2&n&&t.Q6J("theme",t.DdM(1,_))}function oe(n,r){if(1&n){const i=t.EpF();t.ynx(0),t.TgZ(1,"button",65),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit,o=t.oxw(2).$implicit,s=t.oxw().$implicit,d=t.oxw();let m;return t.KtG(d.SetIpcrDataSubtaskObj(e,!0,null!==(m=o.categoryId)&&void 0!==m?m:s.dpcrCategoryId))}),t._UZ(2,"span",51),t.qZA(),t.BQk()}}function re(n,r){1&n&&t._UZ(0,"ngx-skeleton-loader",47),2&n&&t.Q6J("theme",t.DdM(1,_))}function se(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"tr",57)(2,"td",28),t.YNc(3,ee,2,4,"strong",58),t.YNc(4,ne,1,2,"ng-template",null,59,t.W1O),t.qZA()(),t.TgZ(6,"tr",57)(7,"td"),t.YNc(8,ie,6,3,"div",60),t.YNc(9,ae,1,2,"ng-template",null,61,t.W1O),t.qZA(),t.TgZ(11,"td"),t.YNc(12,oe,3,0,"ng-container",41),t.YNc(13,re,1,2,"ng-template",null,62,t.W1O),t.qZA()(),t.BQk()),2&n){const i=t.MAs(5),a=t.MAs(10),e=t.MAs(14),o=t.oxw(4);t.xp6(3),t.Q6J("ngIf",!o.mfoes.isSearchLoading&&!o.mfoes.isLoading)("ngIfElse",i),t.xp6(5),t.Q6J("ngIf",!o.mfoes.isSearchLoading&&!o.mfoes.isLoading)("ngIfElse",a),t.xp6(4),t.Q6J("ngIf",!o.mfoes.isSearchLoading&&!o.mfoes.isLoading)("ngIfElse",e)}}function le(n,r){if(1&n&&(t.TgZ(0,"strong",69),t._uU(1),t.qZA()),2&n){const i=t.oxw(),a=i.index,e=i.$implicit,o=t.oxw(2).$implicit,s=t.oxw().index;t.xp6(1),t.lnq(" ",s+1,".",o.st.length+a+1,"\xa0",e.mfo," ")}}function ce(n,r){1&n&&t._UZ(0,"ngx-skeleton-loader",34),2&n&&t.Q6J("theme",t.DdM(1,_))}function de(n,r){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"i",44),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t._uU(4),t.qZA()),2&n){const i=t.oxw().$implicit;t.xp6(3),t.AsE("",i.qty,"",i.qtyUnit?"%":""," "),t.xp6(1),t.hij("\xa0 ",i.indicator," ")}}function pe(n,r){1&n&&t._UZ(0,"ngx-skeleton-loader",34),2&n&&t.Q6J("theme",t.DdM(1,_))}function _e(n,r){if(1&n){const i=t.EpF();t.ynx(0),t.TgZ(1,"button",65),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit,o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.SetIpcrDataSubtaskObj(e,!1,o.categoryId))}),t._UZ(2,"span",51),t.qZA(),t.BQk()}}function ue(n,r){1&n&&t._UZ(0,"ngx-skeleton-loader",47),2&n&&t.Q6J("theme",t.DdM(1,_))}function ge(n,r){if(1&n&&(t.TgZ(0,"tr",57)(1,"td"),t.YNc(2,de,5,3,"div",41),t.YNc(3,pe,1,2,"ng-template",null,70,t.W1O),t.qZA(),t.TgZ(5,"td"),t.YNc(6,_e,3,0,"ng-container",41),t.YNc(7,ue,1,2,"ng-template",null,71,t.W1O),t.qZA()()),2&n){const i=t.MAs(4),a=t.MAs(8),e=t.oxw(5);t.xp6(2),t.Q6J("ngIf",!e.mfoes.isSearchLoading&&!e.mfoes.isLoading)("ngIfElse",i),t.xp6(4),t.Q6J("ngIf",!e.mfoes.isSearchLoading&&!e.mfoes.isLoading)("ngIfElse",a)}}function me(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"tr",57)(2,"td",28),t.YNc(3,le,2,3,"strong",66),t.YNc(4,ce,1,2,"ng-template",null,67,t.W1O),t.qZA()(),t.YNc(6,ge,9,4,"tr",68),t.BQk()),2&n){const i=r.$implicit,a=t.MAs(5),e=t.oxw(4);t.xp6(3),t.Q6J("ngIf",!e.mfoes.isSearchLoading&&!e.mfoes.isLoading)("ngIfElse",a),t.xp6(3),t.Q6J("ngForOf",i.si)}}function fe(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"tr",52)(2,"td",53),t.YNc(3,Xt,2,0,"b",54),t.YNc(4,te,1,2,"ng-template",null,55,t.W1O),t.qZA()(),t.YNc(6,se,15,6,"ng-container",21),t.YNc(7,me,7,3,"ng-container",21),t.BQk()),2&n){const i=t.MAs(5),a=t.oxw().$implicit,e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",!e.mfoes.isSearchLoading&&!e.mfoes.isLoading)("ngIfElse",i),t.xp6(3),t.Q6J("ngForOf",a.st),t.xp6(1),t.Q6J("ngForOf",a.stCmfo)}}function be(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"tr")(2,"td"),t.YNc(3,Ht,8,5,"div",38),t.YNc(4,Kt,5,4,"ng-template",null,39,t.W1O),t.qZA(),t.TgZ(6,"td",40),t.YNc(7,Wt,2,1,"ng-container",41),t.YNc(8,zt,1,2,"ng-template",null,42,t.W1O),t.qZA()(),t.YNc(10,fe,8,4,"ng-container",22),t.BQk()),2&n){const i=r.$implicit,a=t.MAs(5),e=t.MAs(9),o=t.oxw(2);t.xp6(3),t.Q6J("ngIf",!o.mfoes.isSearchLoading&&!o.mfoes.isLoading)("ngIfElse",a),t.xp6(3),t.Q6J("width",10),t.xp6(1),t.Q6J("ngIf",!o.mfoes.isSearchLoading&&!o.mfoes.isLoading)("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",1===i.isSubTask)}}function he(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"tr",27)(2,"td",28)(3,"div",29)(4,"div"),t.YNc(5,Lt,2,2,"strong",30),t.YNc(6,Bt,2,2,"ng-template",null,31,t.W1O),t.qZA(),t.YNc(8,$t,4,2,"div",22),t.qZA()()(),t.YNc(9,be,11,6,"ng-container",21),t.BQk()),2&n){const i=r.$implicit,a=t.MAs(7),e=t.oxw();t.xp6(5),t.Q6J("ngIf",!e.mfoes.isSearchLoading&&!e.mfoes.isLoading)("ngIfElse",a),t.xp6(3),t.Q6J("ngIf",!e.mfoes.isSearchLoading&&!e.mfoes.isLoading),t.xp6(1),t.Q6J("ngForOf",i.si)}}function Te(n,r){1&n&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",72)(3,"strong"),t._uU(4,"No data found ..."),t.qZA()()(),t.BQk())}function Ze(n,r){if(1&n&&(t.TgZ(0,"div",29)(1,"strong",32),t._uU(2),t.qZA(),t.TgZ(3,"small",37),t._uU(4),t.qZA()()),2&n){const i=t.oxw(),a=i.index,e=i.$implicit,o=t.oxw();t.xp6(2),t.AsE(" ",a+1,".\xa0",e.mfo,""),t.xp6(1),t.Q6J("ngClass","1"==e.categoryId?"bg-label-success":"2"==e.categoryId?"bg-label-primary":"3"==e.categoryId?"bg-label-warning":"bg-label-secondary"),t.xp6(1),t.hij(" ",o.displayCatergory(e.categoryId)," ")}}function ye(n,r){1&n&&t._UZ(0,"ngx-skeleton-loader",34),2&n&&t.Q6J("theme",t.DdM(1,_))}function qe(n,r){if(1&n&&(t.TgZ(0,"strong"),t._uU(1),t.qZA()),2&n){const i=t.oxw(2).$implicit;t.xp6(1),t.AsE("",i.qtyOpcr,"",i.qtyUnit?"%":"","")}}function ve(n,r){if(1&n&&(t.TgZ(0,"div",76),t._UZ(1,"i",44),t.YNc(2,qe,2,2,"strong",22),t._uU(3),t.qZA()),2&n){const i=t.oxw().$implicit,a=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf",!a.isIpcrMfo),t.xp6(1),t.hij("\xa0",i.indicator," ")}}function xe(n,r){1&n&&(t.TgZ(0,"div",45)(1,"div",46),t._UZ(2,"ngx-skeleton-loader",47),t.qZA(),t.TgZ(3,"div",48),t._UZ(4,"ngx-skeleton-loader",34),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("theme",t.DdM(2,_)),t.xp6(2),t.Q6J("theme",t.DdM(3,_)))}function Ce(n,r){if(1&n){const i=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(),o=e.$implicit,s=e.index,d=t.oxw(),m=d.$implicit,h=d.index,v=t.oxw();return t.KtG(v.SetIpcrDataObj(m,o,h,s))}),t._UZ(1,"span",51),t.qZA()}}function Ie(n,r){1&n&&t._UZ(0,"ngx-skeleton-loader",47),2&n&&t.Q6J("theme",t.DdM(1,_))}function Ae(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t.YNc(2,ve,4,2,"div",74),t.YNc(3,xe,5,4,"ng-template",null,39,t.W1O),t.qZA(),t.TgZ(5,"td",40),t.YNc(6,Ce,2,0,"button",75),t.YNc(7,Ie,1,2,"ng-template",null,42,t.W1O),t.qZA()()),2&n){const i=t.MAs(4),a=t.MAs(8),e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!e.mfoes.isSearchLoading&&!e.mfoes.isLoading)("ngIfElse",i),t.xp6(3),t.Q6J("width",10),t.xp6(1),t.Q6J("ngIf",!e.mfoes.isSearchLoading&&!e.mfoes.isLoading)("ngIfElse",a)}}function Me(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"tr",27)(2,"td",28),t.YNc(3,Ze,5,4,"div",73),t.YNc(4,ye,1,2,"ng-template",null,31,t.W1O),t.qZA()(),t.YNc(6,Ae,9,5,"tr",21),t.BQk()),2&n){const i=r.$implicit,a=t.MAs(5),e=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.mfoes.isSearchLoading&&!e.mfoes.isLoading)("ngIfElse",a),t.xp6(3),t.Q6J("ngForOf",i.si)}}function ke(n,r){1&n&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",72)(3,"strong"),t._uU(4,"No data found ..."),t.qZA()()(),t.BQk())}let Ue=(()=>{var n;class r{constructor(){this.ipcrService=(0,t.f3M)(u.$),this.mfoes=this.ipcrService.dpcr_ipcr(),this.submit=new t.vpe,this.setIpcrDataObj=new t.vpe,this.hideCanvasIpcrMfoes=new t.vpe,this.addType=new t.vpe,this.handleExpand=new t.vpe,this.search="",this.mfo={},this.subtask={}}ngOnInit(){this.ipcrService.ViewGetDPCR_IPCR()}SearchMFO(){}HideCanvasIpcrMfoes(){this.hideCanvasIpcrMfoes.emit(!1)}Submit(){this.submit.emit("Submit")}SetIpcrDataObj(a,e,o,s){var d=this;return(0,T.Z)(function*(){yield d.ipcrService.GetIPCRDetailsRemaining(e.dpcrDataId),d.mfo=e,d.mfo.dpcrQuantity=e.qty,d.mfo.quantity=null,d.mfo.prompt=!1,d.mfo.qty_rem=e.qty,d.mfo.isIpcrMfo=a.isIpcrMfo,d.mfo.categoryId=a.categoryId??a.dpcrCategoryId,console.log(d.mfo)})()}SetIpcrDataSubtaskObj(a,e,o){this.ipcrService.GetIPCRDetailsRemainingST(a.subTaskId,a.dpcrDataId),this.subtask=a,this.subtask.dpcrQuantity=a.qty,this.subtask.indicator=e?a.stIndicator:a.indicator,this.subtask.prompt=!1,this.subtask.qty_rem=a.qty-this.ipcrService.ipcrST_rem(),this.subtask.quantity=null,this.subtask.isIpcrMfo=0,this.subtask.categoryId=o,console.log(this.subtask)}setMFOs(a){this.ipcrService.isCommon.set(a),this.ipcrService.ViewGetDPCR_IPCR()}displayCatergory(a){let e="";switch(a){case 1:e="STRATEGIC";break;case 2:e="CORE";break;case 3:e="SUPPORT"}return e?e+"":"NO FUNCTION"}handleExpandCard(){this.handleExpand.emit()}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-canvas-target-mfoes"]],outputs:{submit:"submit",setIpcrDataObj:"setIpcrDataObj",hideCanvasIpcrMfoes:"hideCanvasIpcrMfoes",addType:"addType",handleExpand:"handleExpand"},decls:39,vars:12,consts:[[1,"col-lg-6","col-md-6"],[1,"mt-3"],["data-bs-scroll","true","data-bs-backdrop","false","tabindex","-1","id","offcanvasIpcrMfoes","aria-labelledby","offcanvasIpcrLabel",1,"offcanvas","offcanvas-end",2,"width","40%","border-left","1px solid rgba(67, 89, 113, 0.2)","border-left-width","5px","border-left-style","solid","border-left-color","rgba(67, 89, 113, 0.2)","z-index","900"],[1,"offcanvas-header"],["id","offcanvasEndLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset",3,"click"],[1,"offcanvas-body","px-0","mx-0","py-0","flex-grow-0"],[1,"col-xl-12"],[1,"nav-align-top","mb-4"],[1,"sticky-top","bg-white"],["role","tablist",1,"nav","nav-pills","mb-3","nav-fill","mx-2"],[1,"nav-item"],["type","button","role","tab","data-bs-toggle","tab","data-bs-target","#navs-pills-justified-home","aria-controls","navs-pills-justified-home","aria-selected","false",1,"nav-link",3,"ngClass","click"],[1,"bx","bx-grid-alt"],["class","badge rounded-pill badge-center h-px-20 w-px-20 bg-danger",4,"ngIf"],["type","button","role","tab","data-bs-toggle","tab","data-bs-target","#navs-pills-justified-profile","aria-controls","navs-pills-justified-profile","aria-selected","true",1,"nav-link",3,"ngClass","click"],[1,"tab-content","px-0","mt-2","pb-0"],["id","navs-pills-justified-home","role","tabpanel",1,"tab-pane","fade",3,"ngClass"],[1,"table-responsive","text-wrap"],[1,"table","table-hover"],[1,"table-border-bottom-0"],[4,"ngFor","ngForOf"],[4,"ngIf"],["id","navs-pills-justified-profile","role","tabpanel",1,"tab-pane","fade",3,"ngClass"],[3,"mfo"],[3,"subtask"],[1,"badge","rounded-pill","badge-center","h-px-20","w-px-20","bg-danger"],[1,"text-justify"],["colspan","2"],[1,"x-space-between"],["class","text-primary",4,"ngIf","ngIfElse"],["LoadingMfo",""],[1,"text-primary"],[1,"col-12"],["count","1","animation","pulse","appearance","line",3,"theme"],["class","badge rounded-pill float-end cursor-pointer","data-bs-toggle","dropdown","aria-expanded","false",3,"ngClass",4,"ngIf","ngIfElse"],["showDpcrCat",""],["data-bs-toggle","dropdown","aria-expanded","false",1,"badge","rounded-pill","float-end","cursor-pointer",3,"ngClass"],["class","col-12 text-justify","style","margin-left: 20px;",4,"ngIf","ngIfElse"],["LoadingSI",""],[3,"width"],[4,"ngIf","ngIfElse"],["LoadingBtn",""],[1,"col-12","text-justify",2,"margin-left","20px"],[1,"bx","bx-chevron-right"],[1,"row"],[1,"col-2"],["count","1","animation","pulse","appearance","circle",3,"theme"],[1,"col-10"],["type","button","data-bs-toggle","modal","data-bs-target","#modalAddMfo","class","btn rounded-pill btn-icon btn-primary float-end",3,"click",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#modalAddMfo",1,"btn","rounded-pill","btn-icon","btn-primary","float-end",3,"click"],[1,"tf-icons","bx","bx","bx-plus"],[1,"bg-custom-gray"],["colspan","2",1,"text-black"],["style","margin-left: 50px;",4,"ngIf","ngIfElse"],["LoadingST",""],[2,"margin-left","50px"],[1,"bg-custom-ligth-gray"],["class","text-secondary","style","margin-left: 50px;",4,"ngIf","ngIfElse"],["LoadingStMfo",""],["style","margin-left: 60px;",4,"ngIf","ngIfElse"],["LoadingStSi",""],["LoadingBtnSt",""],[1,"text-secondary",2,"margin-left","50px"],[2,"margin-left","60px"],["type","button","data-bs-toggle","modal","data-bs-target","#modalAddSubtask",1,"btn","rounded-pill","btn-icon","btn-primary","float-end",3,"click"],["class","text-secondary",4,"ngIf","ngIfElse"],["LoadingStCMfo",""],["class","bg-custom-ligth-gray",4,"ngFor","ngForOf"],[1,"text-secondary"],["LoadingStCmfoSi",""],["LoadingBtnStCmfo",""],["colspan","2",1,"text-center"],["class","x-space-between",4,"ngIf","ngIfElse"],["class","col-12 text-justify",4,"ngIf","ngIfElse"],["type","button","data-bs-toggle","modal","data-bs-target","#modalAddMfo","class","btn rounded-pill btn-icon btn-primary float-end",3,"click",4,"ngIf","ngIfElse"],[1,"col-12","text-justify"]],template:function(a,e){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5," MAJOR FINAL OUTPUT "),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){return e.handleExpandCard()}),t.qZA()(),t.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"ul",10)(12,"li",11)(13,"button",12),t.NdJ("click",function(){return e.setMFOs(0)}),t.ynx(14),t._UZ(15,"i",13),t._uU(16," DIVISION MFO "),t.YNc(17,Rt,2,1,"span",14),t.BQk(),t.qZA()(),t.TgZ(18,"li",11)(19,"button",15),t.NdJ("click",function(){return e.setMFOs(1)}),t.ynx(20),t._UZ(21,"i",13),t._uU(22," COMMON "),t.YNc(23,jt,2,1,"span",14),t.BQk(),t.qZA()()()(),t.TgZ(24,"div",16)(25,"div",17)(26,"div",18)(27,"table",19)(28,"tbody",20),t.YNc(29,he,10,4,"ng-container",21),t.YNc(30,Te,5,0,"ng-container",22),t.qZA()()()(),t.TgZ(31,"div",23)(32,"div")(33,"table",19)(34,"tbody",20),t.YNc(35,Me,7,3,"ng-container",21),t.YNc(36,ke,5,0,"ng-container",22),t.qZA()()()()()()()()()()(),t._UZ(37,"app-modal-add-mfo",24)(38,"app-modal-add-subtask",25)),2&a&&(t.xp6(13),t.Q6J("ngClass",0===e.ipcrService.isCommon()?"active":""),t.xp6(4),t.Q6J("ngIf",0===e.ipcrService.isCommon()),t.xp6(2),t.Q6J("ngClass",1===e.ipcrService.isCommon()?"active":""),t.xp6(4),t.Q6J("ngIf",1===e.ipcrService.isCommon()),t.xp6(2),t.Q6J("ngClass",0===e.ipcrService.isCommon()?"show active":""),t.xp6(4),t.Q6J("ngForOf",e.mfoes.data),t.xp6(1),t.Q6J("ngIf",0===e.mfoes.data.length),t.xp6(1),t.Q6J("ngClass",1===e.ipcrService.isCommon()?"show active":""),t.xp6(4),t.Q6J("ngForOf",e.mfoes.data),t.xp6(1),t.Q6J("ngIf",0===e.mfoes.data.length),t.xp6(1),t.Q6J("mfo",e.mfo),t.xp6(1),t.Q6J("subtask",e.subtask))},dependencies:[c.mk,c.sg,c.O5,q.xr,Et,Ft],encapsulation:2}),r})();function Se(n,r){1&n&&t._UZ(0,"app-table-ipcr")}function we(n,r){if(1&n){const i=t.EpF();t.ynx(0),t.TgZ(1,"app-table-ipcr-data",3),t.NdJ("handleExpand",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.handleExpand())}),t.qZA(),t.TgZ(2,"app-canvas-target-mfoes",4),t.NdJ("handleExpand",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.handleExpand())}),t.qZA(),t.BQk()}if(2&n){const i=t.oxw();t.xp6(1),t.Q6J("isExpand",i.isExpand)}}let Je=(()=>{var n;class r{constructor(){this.ipcrService=(0,t.f3M)(u.$),this.ipcrObj={},this.isExpand=!1,this.isAddIpcr=!1}ngOnInit(){this.localStorage()}handleShowIpcrData(a){a||(this.ipcrService.storageIsShow.set(0),localStorage.setItem("isShow_ipcr","0"))}localStorage(){1==this.ipcrService.storageIsShow()?localStorage.setItem("isShow_ipcr","1"):(localStorage.setItem("isShow_ipcr","0"),this.ipcrService.storageIsShow.set(0))}handleExpand(){this.isExpand=!this.isExpand}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ipcr-target"]],decls:4,vars:3,consts:[[1,"card"],[3,"isShowIpcrData","isAddIpcr","handleShowIpcrData"],[4,"ngIf"],[3,"isExpand","handleExpand"],[3,"handleExpand"]],template:function(a,e){1&a&&(t.TgZ(0,"div",0)(1,"app-header-target",1),t.NdJ("isAddIpcr",function(s){return e.isAddIpcr=s,e.ipcrObj={}})("handleShowIpcrData",function(s){return e.handleShowIpcrData(s)}),t.qZA(),t.YNc(2,Se,1,0,"app-table-ipcr",2),t.qZA(),t.YNc(3,we,3,1,"ng-container",2)),2&a&&(t.xp6(1),t.Q6J("isShowIpcrData",e.ipcrService.storageIsShow()),t.xp6(1),t.Q6J("ngIf",!e.ipcrService.storageIsShow()),t.xp6(1),t.Q6J("ngIf",e.ipcrService.storageIsShow()))},dependencies:[c.O5,w,z,Ut,Ue]}),r})();var A=p(9157),Ne=p(8525),Qe=p(3680),Ee=p(3067);function Oe(n,r){if(1&n&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&n){const i=r.$implicit;t.s9C("value",i.eic),t.xp6(1),t.AsE(" ",i.lastName,", ",i.firstName,"")}}function De(n,r){1&n&&(t.TgZ(0,"label",15),t._uU(1,"Approved by is required"),t.qZA())}function Ye(n,r){if(1&n&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&n){const i=r.$implicit;t.s9C("value",i.eic),t.xp6(1),t.AsE(" ",i.lastName,", ",i.firstName,"")}}function Fe(n,r){1&n&&(t.TgZ(0,"label",15),t._uU(1,"Reviewed by is required"),t.qZA())}function Re(n,r){if(1&n&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&n){const i=r.$implicit;t.s9C("value",i.eic),t.xp6(1),t.AsE(" ",i.lastName,", ",i.firstName,"")}}function je(n,r){1&n&&(t.TgZ(0,"label",15),t._uU(1,"Confirmed by is required"),t.qZA())}const Le=[{path:"",component:M,children:[{path:"target",component:Je},{path:"signatory/:ipcrId",component:(()=>{var n;class r{constructor(a,e){this.router=a,this.route=e,this.ipcrService=(0,t.f3M)(u.$),this.signatoryService=(0,t.f3M)(I.U),this.utilService=(0,t.f3M)(C.n),this.ipcr=this.ipcrService.ipcr_user(),this.signatory={},this.validateField={},this.searchReviewedBy="",this.searchApprovedBy="",this.searchConfirmedBy="",this.employee_list=[],this.search_employee_list_reviewed_by=[],this.search_employee_list_approved_by=[],this.search_employee_list_confirmed_by=[]}ngOnInit(){const a=this.route.snapshot.paramMap.get("ipcrId");this.CheckIpcrIdParam(a??""),this.GetEmployeeList(),this.GetSignatoryIpcr(a??"")}CheckIpcrIdParam(a){var e=this;return(0,T.Z)(function*(){try{let o=yield e.ipcrService.checkIfIpcrIdIsFromCurrentUser(a);console.log(o),o||e.navigateToIpcrTarget()}catch(o){console.error("Error:",o)}})()}GetEmployeeList(){this.utilService.get_employee_list().subscribe(a=>{this.employee_list=a.filter(e=>e.salaryGrade>=18&&e.salaryGrade<=26).sort((e,o)=>o.salaryGrade-e.salaryGrade),this.search_employee_list_reviewed_by=this.employee_list,this.search_employee_list_approved_by=this.employee_list,this.search_employee_list_confirmed_by=this.employee_list,console.log(this.employee_list)},a=>{alert("error")})}navigateToIpcrTarget(){this.router.navigate(["/spms/ipcr/target"])}GetSignatoryIpcr(a){this.signatory.typeId=a,this.signatoryService.get_signatories_ipcr(a).subscribe(e=>{null===e?(this.signatory.reviewedById=null,this.signatory.approvedById=null,this.signatory.confirmedById=null):this.signatory=e},e=>{})}SaveSignatory(){var a=this;return(0,T.Z)(function*(){try{(yield a.ValidateEmptyFields())&&a.signatoryService.put_signatories_ipcr(a.signatory)}catch{}})()}ValidateEmptyFields(){var a=this;return(0,T.Z)(function*(){return new Promise(e=>{a.validateField.reviewedById=null===a.signatory.reviewedById||""===a.signatory.reviewedById,a.validateField.approvedById=null===a.signatory.approvedById||""===a.signatory.approvedById,a.validateField.confirmedById=null===a.signatory.confirmedById||""===a.signatory.confirmedById,e(!(a.validateField.reviewedById||a.validateField.approvedById||a.validateField.confirmedById))})})()}handleOnChangeReviewedBy(){this.search_employee_list_reviewed_by=this.employee_list.filter(a=>(a.firstName+" "+a.lastName).toLowerCase().includes(this.searchReviewedBy.toLowerCase()))}handleOnChangeApprovedBy(){this.search_employee_list_approved_by=this.employee_list.filter(a=>(a.firstName+" "+a.lastName).toLowerCase().includes(this.searchApprovedBy.toLowerCase()))}handleOnChangeConfirmedBy(){this.search_employee_list_confirmed_by=this.employee_list.filter(a=>(a.firstName+" "+a.lastName).toLowerCase().includes(this.searchConfirmedBy.toLowerCase()))}}return(n=r).\u0275fac=function(a){return new(a||n)(t.Y36(f.F0),t.Y36(f.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-ipcr-signatory"]],decls:44,vars:13,consts:[[1,"x-center"],[1,"card","col-lg-4","col-sm-12"],[1,"card-header"],[1,"card-body"],[1,""],[1,"text-center","mb-4"],[1,"role-title"],[1,"col-lg-12"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange"],["placeholderLabel","Search...","noEntriesFoundLabel","'no match found'",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"btn","btn-primary","col-lg-12",3,"click"],[3,"value"],[1,"text-danger"]],template:function(a,e){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),t._uU(4),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",4)(8,"div",5)(9,"h2",6),t._uU(10,"Signatory"),t.qZA()(),t.TgZ(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"Approved by:"),t.qZA(),t.TgZ(15,"mat-select",9),t.NdJ("ngModelChange",function(s){return e.signatory.approvedById=s}),t.TgZ(16,"mat-option")(17,"ngx-mat-select-search",10),t.NdJ("ngModelChange",function(s){return e.searchApprovedBy=s})("ngModelChange",function(){return e.handleOnChangeApprovedBy()}),t.qZA()(),t.YNc(18,Oe,2,3,"mat-option",11),t.qZA()(),t.YNc(19,De,2,0,"label",12),t.qZA(),t.TgZ(20,"div",7)(21,"mat-form-field",8)(22,"mat-label"),t._uU(23,"Reviewed by:"),t.qZA(),t.TgZ(24,"mat-select",9),t.NdJ("ngModelChange",function(s){return e.signatory.reviewedById=s}),t.TgZ(25,"mat-option")(26,"ngx-mat-select-search",10),t.NdJ("ngModelChange",function(s){return e.searchReviewedBy=s})("ngModelChange",function(){return e.handleOnChangeReviewedBy()}),t.qZA()(),t.YNc(27,Ye,2,3,"mat-option",11),t.qZA()(),t.YNc(28,Fe,2,0,"label",12),t.qZA(),t.TgZ(29,"div",5)(30,"h2",6),t._uU(31,"MPOR AND SMPOR"),t.qZA()(),t.TgZ(32,"div",7)(33,"mat-form-field",8)(34,"mat-label"),t._uU(35,"Confirmed by:"),t.qZA(),t.TgZ(36,"mat-select",9),t.NdJ("ngModelChange",function(s){return e.signatory.confirmedById=s}),t.TgZ(37,"mat-option")(38,"ngx-mat-select-search",10),t.NdJ("ngModelChange",function(s){return e.searchConfirmedBy=s})("ngModelChange",function(){return e.handleOnChangeConfirmedBy()}),t.qZA()(),t.YNc(39,Re,2,3,"mat-option",11),t.qZA()(),t.YNc(40,je,2,0,"label",12),t.qZA(),t.TgZ(41,"div",7)(42,"button",13),t.NdJ("click",function(){return e.SaveSignatory()}),t._uU(43,"SUBMIT"),t.qZA()()()()()()()),2&a&&(t.xp6(4),t.Oqu(e.ipcr.data.details),t.xp6(11),t.Q6J("ngModel",e.signatory.approvedById),t.xp6(2),t.Q6J("ngModel",e.searchApprovedBy),t.xp6(1),t.Q6J("ngForOf",e.search_employee_list_approved_by),t.xp6(1),t.Q6J("ngIf",e.validateField.approvedById),t.xp6(5),t.Q6J("ngModel",e.signatory.reviewedById),t.xp6(2),t.Q6J("ngModel",e.searchReviewedBy),t.xp6(1),t.Q6J("ngForOf",e.search_employee_list_reviewed_by),t.xp6(1),t.Q6J("ngIf",e.validateField.reviewedById),t.xp6(8),t.Q6J("ngModel",e.signatory.confirmedById),t.xp6(2),t.Q6J("ngModel",e.searchConfirmedBy),t.xp6(1),t.Q6J("ngForOf",e.search_employee_list_confirmed_by),t.xp6(1),t.Q6J("ngIf",e.validateField.confirmedById))},dependencies:[c.sg,c.O5,l.JJ,l.On,A.KE,A.hX,Ne.gD,Qe.ey,Ee.nu],encapsulation:2}),r})()}]}];let Be=(()=>{var n;class r{}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.Bz.forChild(Le),f.Bz]}),r})();var Ge=p(3609);let Pe=(()=>{var n;class r{}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,Be,l.u5,l.UX,Ge.m,q.hx]}),r})()}}]);